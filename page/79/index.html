<!DOCTYPE html>
<html>
    <head>
        <title>Home &mdash; @TheKeyboard &mdash; The ramblings of a grumpy programmer</title>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link href="/components/bootstrap/css/bootstrap.min.css" rel="stylesheet" type="text/css" />
        <link href="/components/bootstrap/css/bootstrap-responsive.min.css" rel="stylesheet" type="text/css" />
        <link href="/css/style.css" rel="stylesheet" type="text/css" />
        <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
        <!--[if lt IE 9]>
            <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->
        <link rel="stylesheet" href="/components/highlightjs/styles/github.css" />
        <link rel="alternate" type="application/atom+xml" href="/atom.xml" title="@TheKeyboard activity feed" />
        <link href="https://vjs.zencdn.net/5.5.3/video-js.css" rel="stylesheet">
        <script src="https://vjs.zencdn.net/ie8/1.1.1/videojs-ie8.min.js"></script>
        <style>
        /** quick fix because bootstrap <pre> has a background-color. */
        pre code { background-color: inherit; }
        </style>
    </head>
    <body>
        <header>
            <div class="navbar navbar-inverse navbar-fixed-top">
                <div class="navbar-inner">
                    <div class="container-fluid">
                        <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                        </a>
                        <a class="brand" href="/">@TheKeyboard</a>
                        <div class="nav-collapse collapse">
                            <ul class="nav">
                                <li><a href="/blog">Posts Archive</a></li>
                                <li><a href="/about">About</a></li>
                                <li><a href="/atom.xml">RSS/Atom</a></li>
                            </ul>
                        </div><!--/.nav-collapse -->
                    </div>
                </div>
            </div>
        </header>
        <div class="mainContent container">
            <div class="row-fluid">
                <div class="span8">
                        <article>
        <header>
            <h2><a href="/atthekeyboard/2008/09/08/book-review-cakephp-application-development/">Book Review:  CakePHP Application Development</a></h2>
           <h3>September 8th, 2008</h3>
        </header>
        <div>
            <p>A few weeks ago I was approached by <a href="http://www.paktpub.com">Pakt Publishing</a> and asked if I was interested in reviewing the recent <a href="http://cakephp.org">CakePHP</a> book <a href="http://www.packtpub.com/cakephp-application-development/book">'CakePHP Application Development'</a> by Ahsanul Bari and Anupom Syam.  In the interest of full disclosure, I have communicated with Ahsanul a few times via the CakePHP mailing list and on <a href="http://twitter.com/chartjes">Twitter</a>.  We're not total strangers, more like casual acquaintances who know each other through the CakePHP community.</p>

<p>
One of the biggest criticisms in the past of CakePHP was the lack of published documentation on how to use the framework.  As shocking as it was to me, there were people who preferred a paper copy of the Cookbook so they could have access to it when they might not be online (what, working on your computer and not online?!?) or to read offline.  Naturally, several books about the framework have been published in the past few months, and I can't think of a better book to recommend to people interested in learning the framework than this one.  And I'm not just saying that because I got a copy for free.  While the book is good, there are a few places where it could be even better.
</p>

<h2>The Good: Examples, Example, Examples</h2>

<p>
The target audience for this book is the right one that CakePHP is attracting:  intermediate PHP developers who may have not used a framework before and are trying to figure out how to use one to their advantage.  Without clear and relevant examples of how to use it, CakePHP would be just another framework struggling to gain acceptance with the PHP deveoper community.  If you want examples on how to do most basic things with CakePHP, this book has them.  Want to know how to configure CakePHP to work for your web server?  Check!  How do you get results from your database?  Check!  How do you use the 'bake' utility from the Cake console?  Check!  Validating form fields?  Check!
</p>

<p>
I feel that the examples in this book are it's strengths.  The code is well written and every code example is followed by an explanation of what they are doing.  Many times the example is not enough, you have to understand WHY it's written that way.</p>

<h2>The Good:  Sample Applications Always Help</h2>

<p>
Almost half the book is devoted to creating an application from scratch, including configuring the often-misunderstood Auth component and showing how the built-in Javascript helper allows you to add Ajax-powered functionality via the Prototype and Scriptaculous Javascript libraries.  Seeing an application being built from start to working prototype is an invaluable lesson for the "learn from example" crowd.
</p>

<h2>The Bad:  Less Info On Doing Things The Cake Way</h2>

<p>
I feel that some more time could've been spent explaining CakePHP's "convention over configuration" preferences and how it changes the way you approach building an application using CakePHP.  Perhaps that wasn't a topic for this book's intended audience, since it's only the deep thinkers and the rant-and-ravers (which I have been accused of belonging to) who like to discuss the philosophy behind CakePHP and the question of just what a framework is good for.
</p>

<p>
<h2>The Bad: Thin on Server Configuration Information</h2> 
</p>

<p>
While there is a chapter devoted to getting CakePHP up-and-running using Apache and MySQL (specifically using <a href="http://www.wampserver.com/en/">WAMP</a>), it would've been very helpful to see an example of the type of configuration recommended for production environments, where the APP directory is web-accessable while the CakePHP core is located somewhere outside the webroot, linked in via an option in the configuration files.
</p>

<h2>The Bad:  No mention of the differences in debug levels</h2>

<p>
When I do my development work on a CakePHP application, I set the debug level to 1 so that I see all errors and the SQL statements being generated by my models.  In production I have the debug level set to 0 as I don't want error messages on the screen that reveal any information, and I certainly don't want people seeing the SQL statements being executed.  Sure, it's security by obscurity but it's also debugging information that's cluttering up the screen.
</p>

<h2>The Bad: No mention of using the built-in testing</h2>

<p>
While I'm a lapsed tester, the fact that CakePHP will create the shells for writing unit tests for the models and controllers you create should not be overlooked.  Although testing gets a bad rap ("It's too hard, and it wastes my time!") it's a programming practice that should be encouraged.  
</p>

<h2>The Ugly: CakePHP is still a moving target</h2>

<p>
While this in no way diminishes the efforts put in by the authors to create this excellent introduction to CakePHP, at the time it went to press CakePHP 1.2 was still not feature-final.  Some tihngs have changed, and I expect some more things will change before CakePHP 1.2 is finalized and work on CakePHP 2.0 starts.  This is the danger in writing about any programming language:  the information could become obsolete at any time.  But don't get all upset about it, as it is likely only very minor details that have changed.  The CakePHP core team does try to not break things *that* much.
</p>

<p>
So, don't let the number of "bad" issues above dissuade you from checking out this book.  The items I highlighted are probably bettered suited for a "Advanced CakePHP Application Development for Grumpy Developers" book.  I would not hesitate to recommend this book to any semi-experienced PHP developer who is looking for a resource guide to get themselves started.
</p>

        </div>
            </article>
    <article>
        <header>
            <h2><a href="/atthekeyboard/2008/09/04/dont-fear-the-command-line-using-cakephp-shells/">Don&#039;t Fear The Command Line: Using CakePHP Shells</a></h2>
           <h3>September 4th, 2008</h3>
        </header>
        <div>
            <p>
(Note: this is a reposting of an entry I made when trying out <a href='http://habariproject.org'>Habari</a> as my blog software.  If you missed it, I hope you enjoy it now.</p>

<p>
For a consulting job I'm working on where I'm porting a spaghetti-PHP application over to using CakePHP I am moving their existing authorization system over to using Cake's Auth component.  Of course, they are storing all their passwords in plaintext in the user account table, so I needed an easy way to convert all the existing passwords over to be encrypted using the same hash that Auth would use.  Doing this was surprisingly easy thanks to the power of <a href="http://book.cakephp.org/view/110/Creating-Shells-Tasks">shells and tasks in CakePHP.</a>.
</p>

<p>
~~~
/**
 * Shell for encrypted naked passwords with the correct hash for use
 * with the Auth component
 *
 * @auth Chris Hartjes
 */
class EncryptPasswordsShell extends Shell {
    var $uses = array('UserClient');
    
    function main() {
        App::import('Core', 'Security');
        $this->out("Starting to encrypt passwords\n\n");
        $this->UserClient->recursive= -1;
        $users = $this->UserClient->find('all');
        
        foreach ($users as $user) {
            $userName = $user['UserClient']['username'];
            $password = $user['UserClient']['password'];
            
            if ($password != '') {
                $data = array('UserClient' => array(
                    'id' => $user['UserClient']['id'],
                    'password' => Security::hash($password, null, true))
                );
                
                if ($this->UserClient->save($data)) {
                    $this->out("Updated password for {$userName}");
                }
            } else {
                $this->out("Bad password for {$userName}");
            }
        }
    }
}
~~~
</p>

<p>
I think the code in there is pretty self-explanatory.  The only "gotcha" I ran into (fixed by a look at the Auth component itself) was that I needed to tell Security::hash() that I wanted to use the salt I defined in my config file.  By default that parameter is set to false, hence the need to explicitly set it to true.
</p>

<p>
Thank to <a href="http://mark-story.com/">Mark Story</a> for pointing me in the right direction for this.</p>

        </div>
            </article>
    <article>
        <header>
            <h2><a href="/atthekeyboard/2008/08/28/reader-feedback-web-application-performance/">Reader Feedback: Web Application Performance</a></h2>
           <h3>August 28th, 2008</h3>
        </header>
        <div>
            <p>
<img src="https://www.littlehart.net/images/web-app-development.png"/>
</p>

<p>
Welcome to the 4th and final day of reader feedback week here.  Today's topic is one that comes up over and over and over and over again:  web application performance.  In particular, I wanted to discuss web application performance and frameworks.
</p>

<p>After seeing a slide from a presentation at FrOSCON about CakePHP's performance in the incredibly-unrealistic-and-irrelevant "Hello World" competition against vanilla PHP and other PHP frameworks I came up with that very aggressive statement you see above.  That prompted a flurry of tweets by other people about their thoughts on that matter, and so on and so forth.  I believe my earlier statements were misunderstood, so I shall clarify them here.
</p>

<p>
I stand by the statement "frameworks are about increasing development speed, not application speed".  I've talked about frameworks plenty in the past, and they all promise you this:  if you build things according to their rules (and this is the really important thing to remember) then you will gain a significant increase in application development speed.  If you fight against those rules, why are you even bothering to use the framework?  The goal is to speed up development time by following a set of conventions on how the application is put together.
</p>

<p>
So, if you've had enough courage to build you application with your framework of choice, you should have a working application.  That doesn't mean it is as fast as it could be, but remember the mantra I shared earlier:  "make it work, then make it work better".  Where frameworks typically fall down is in the "make it work better" part of that statement.  <a href="http://www.travisswicegood.com/">Travis Swicegood</a> pointed out to me when it comes to frameworks "...actually, a really good one should have mechanics in place to do both" (referring to increased development speed and application speed).
</p>

<p>
So, if you have a framework that actually cares about application performance (perhaps unfairly some frameworks have decided that performance is sole responsibility of the developer, not the framework itself) then it should come with things to make your application a little more responses.  Things like built-in output caching, or features in their ORM/ADM that cache your schema, things like that.  But in the end, there is only so much you can to make a framework-built application run really fast.  Sometimes you can do it with just the additional features I mentioned above.  Sometimes you can't do it because the architecture you've chosen for your application won't let you.  And sometimes, you can't do anything about it because it's too hard to modify the framework itself.  These things happen.  Look at Twitter and all the contortions they have gone through trying to take what was initially a Rails application and push it's performance up to it's current level.
</p>

<p>
There are also lots of 3rd-party solutions to help you make your application perform better.  <a href="http://www.danga.com/memcached/">Memcached</a> for caching data (ask me some time about my Memached story at an old job). <a href="http://pecl.php.net/package/APC">Alternative PHP Cache</a> if you're running PHP.  <a href="http://www.squid-cache.org/">Squid</a>.  <a href="http://nginx.net/">nginx</a>.  <a href="http://mongrel.rubyforge.org/">Mongrel</a>.  Those are just the ones I can think of off the top of my head.  Some of them are even framework agnostic.</p>

<p>
Having a framework that lets you BUILD things fast and RUN things fast is the perfect situation, but not too common.  I used to get mad when I'd see people asking if <insert framework here> can scale, because I felt it revealed a certain level of ignorance in the person asking the question.  I've now come to the conclusion that what they are really asking is if </insert><insert framework here> can scale without them doing any extra work.  Usually, the answer to that question is FUCK NO (emphasis mine) because scaling is an issue that goes far beyond just a simple framework.
</insert></p>

<p>
See, not every framework is slow.  Some frameworks, due to their internal structure, are faster than others.  I'm okay with that now, not so okay in the past.  In a lot of cases, the bottlenecks in your application aren't code-related.  I've come to understand that too, especially in the new Javascript-driven world web applications have started to run in.  If you think Twitter is slow because they chose Rails, I think that you do not have a firm understanding of how Twitter actually works.  Or maybe you don't care because it's easy to make fun of Rails and Twitter.
</p>

<p>
Luckily, we have lots of free and easy-to-use tools at our disposal that let us look at our up-and-running web application (remember, Just Build It, Damnit!) and see how it's performing.  Things like <a href="http://www.joedog.org/JoeDog/Siege">Siege</a> and <a href="http://developer.yahoo.com/yslow/">YSlow</a> are just two tools that their use will give you huge insights into the actual performance of your web application.
</p>

<p>
You shouldn't be GUESSING how your application performs, you should KNOW what is going on.
</p>

        </div>
            </article>
    <nav>
        <a href="/page/78">Newer Posts</a><br />
        <a href="/page/80">Older Posts</a><br />
    </nav>
                </div>
                <div class="span4 sidebar">
                    <div class="well">
                        <h4>@TheKeyboard <small>The ramblings of a grumpy programmer</small></h4>
                    </div>
                    <div class="well sidebar-nav">
                        <section>
                            <h3>Find stuff</h3>
                            <script>
                              (function() {
                                var cx = '010269902375244482518:ddxhg1qhod4';
                                var gcse = document.createElement('script');
                                gcse.type = 'text/javascript';
                                gcse.async = true;
                                gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') +
                                    '//www.google.com/cse/cse.js?cx=' + cx;
                                var s = document.getElementsByTagName('script')[0];
                                s.parentNode.insertBefore(gcse, s);
                              })();
                            </script>
                            <gcse:searchbox-only></gcse:searchbox-only>
                        </section>
                        <section>
                            <h3>Contact me</h3>
                            <ul>
                                <li>Email me at chartjes@grumpy-learning.com</li>
                                <li>Find me on Twitter as <a href="https://twitter.com/grmpyprogrammer">@grmpyprogrammer</a></li>
                            </ul>
                        </section>
			<section>
				<h3>Sponsor me</h3>
				<p>If you like the work I do on <a href="https://github.com/opencfp/opencfp/">OpenCFP</a> you can become a
				sponsor via my <a href="https://github.com/sponsors/chartjes">GitHub sponsors</a> page. Your sponsorship
				allows me to spend more time on open source and less time writing books and training material.</p>
			</section>
                        <section>
                            <h3>Books</h3>
                            <ul>
				<li><a href="https://leanpub.com/grumpy-guide">The Grumpy Programmer's Guide To Testing PHP Applications (currently pre-ordering)</a></li>
                                <li><a href="https://leanpub.com/test-driven">Building Test-Driven Developers</a></li>
                                <li><a href="https://leanpub.com/minimumviabletests">Minimum Viable Tests</a></li>
                                <li><a href="https://leanpub.com/grumpy-phpunit">The Grumpy Programmer's PHPUnit Cookbook</a></li>
                            </ul>
                        </section>
                    </div>
                </div>
            </div>
        </div>
        <footer class="container">
            &copy; 2020 @TheKeyboard
        </footer>

        <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
        <script>window.jQuery || document.write('<script src="/components/jquery/jquery.min.js"><\/script>')</script>
        <script src="/components/bootstrap/js/bootstrap.min.js"></script>
                
                <script src="/components/highlightjs/highlight.pack.js"></script>
        <script>hljs.initHighlightingOnLoad();</script>
    </body>
</html>
