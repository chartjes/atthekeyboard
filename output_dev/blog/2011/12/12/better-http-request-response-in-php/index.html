<!DOCTYPE html>
<html>
    <head>
        <title>Better HTTP Request/Response in PHP &mdash; @TheKeyboard &mdash; The ramblings of a grumpy programmer</title>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link href="/components/bootstrap/css/bootstrap.min.css" rel="stylesheet" type="text/css" />
        <link href="/components/bootstrap/css/bootstrap-responsive.min.css" rel="stylesheet" type="text/css" />
        <link href="/css/style.css" rel="stylesheet" type="text/css" />
        <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
        <!--[if lt IE 9]>
            <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->
        <link rel="stylesheet" href="/components/highlightjs/styles/github.css" />
        <link rel="alternate" type="application/atom+xml" href="/atom.xml" title="@TheKeyboard activity feed" />
        <style>
        /** quick fix because bootstrap <pre> has a background-color. */
        pre code { background-color: inherit; }
        </style>
    </head>
    <body>
        <header>
            <div class="navbar navbar-inverse navbar-fixed-top">
                <div class="navbar-inner">
                    <div class="container-fluid">
                        <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                        </a>
                        <a class="brand" href="/">@TheKeyboard</a>
                        <div class="nav-collapse collapse">
                            <ul class="nav">
                                <li><a href="/blog">Posts Archive</a></li>
                                <li><a href="/blog/categories">Categories</a></li>
                                <li><a href="/blog/tags">Tags</a></li>
                                <li><a href="/about">About</a></li>
                            </ul>
                        </div><!--/.nav-collapse -->
                    </div>
                </div>
            </div>
        </header>
        <div class="mainContent container">
            <div class="row-fluid">
                <div class="span8">
                        <article>
        <header>
            <h2>Better HTTP Request/Response in PHP <small>post</small></h2>
        </header>
        <div>
            <p>I just started up a podcast called <a href="http://devhell.info">Developer Hell</a> with
my fellow piss-and-moan-driven-development practitioner <a href="http://funkatron.com">Ed Finkler</a>
. It basically consists of Ed and I sitting down and just having an open and
unedited discussion about whatever programming-related topic we feel like
rambling on and on about. Our first episode covered the always-riveting
topic of <a href="http://devhell.info/post/2011-12-10/what-we-hate-about-php/">"What We Hate About PHP"</a>.</p>

<p>Now even though it is just us complaining about stuff in PHP that we don't
like, regardless of the true merits of our complaints, it sparked a discussion
on Twitter about just what should be done to make handling PUT and DELETE
requests better in PHP.</p>

<p>$&#95;POST and $&#95;GET are workhorses of the PHP world, used in any application
that accepts web requests from somewhere. Sometimes accessing them is wrapped
inside objects or filtered out using the filter() extension of even <a href="https://github.com/funkatron/inspekt">Inspekt</a>
but I think this illustrates the problem.</p>

<p><a href="http://twitter.com/lxt">Laura Thompson</a> made the suggestion that PHP should
look to port the concept of the Request object that Python uses over to PHP.
As a cryptopythonista I think that is an excellent idea. <a href="http://twitter.com./auroraeosrose">Elizabeth Smith</a>
did ask for some constructive ideas on solving this problem. While my C skills
are non-existent, I thought I'd delve a bit into more higher-level thoughts
about this.</p>

<p>I think the fact that we have $&#95;POST and $&#95;GET lulls some of us into the
false sense that we should have $&#95;PUT and $&#95;DELETE objects, since that
would map to the commonly-desired set of HTTP verbs that REST likes to use.
But what should be inside those things, or should we be moving towards a more
Pythonesque solution where a Request object, as part of core or via a only-really-for-the-brave-
PECL extension?</p>

<p>What I'm really after is for an easy way to detect that a PUT or DELETE
request has been made. Existing solutions for these are not pretty and (
in my opinion) non-intuitive. With my thoughts that PHP is quickly turning
into a tool used for web service API end points that don't require insane
levels of concurrency, the idea that there is no native support for figuring
out if you're been given a PUT or DELETE request is disheartening.</p>

<p>The <a href="http://www.php.net/http">PECL HTTP extension</a> is a step in the correct
direction, but it too has some rough edges and would require a lot of
polishing before it could be moved into the core where it really belongs.</p>

<p>Again, what I'm looking for is an easy way for PHP to be able to know what
type of request it is dealing with so I can make my PHP applications more
aware of what it being asked of them. It seems that pretty much every
framework implements their own Request/Response objects, so that should be an
indication that this kind of code abstraction is a desired core PHP feature.</p>

<p>Share your thoughts with me in the comments.</p>

        </div>
                
                    <nav class="article">
                <ul>
                                            <li>Next: <a class="next" href="/blog/2011/12/30/the-year-of-the-struggle" title="The Year of the Struggle"><span class="title">The Year of the Struggle</span></a></li>
                                                                <li>Previous: <a class="previous" href="/blog/2011/12/05/war-room-driven-deployment" title="War-room Driven Deployment"><span class="title">War-room Driven Deployment</span></a></li>
                                    </ul>
            </nav>
            </article>
                </div>
                <div class="span4 sidebar">
                    <div class="well">
                        <h4>@TheKeyboard <small>The ramblings of a grumpy programmer</small></h4>
                    </div>
                    <div class="well sidebar-nav">
                        <h4>Links</h4>
                        <ul class="nav">
                            <li><a href="http://sculpin.io">sculpin.io</a></li>
                            <li><a href="http://twitter.com/getsculpin">@getsculpin</a></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        <footer class="container">
            &copy; 2014 @TheKeyboard
        </footer>

        <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
        <script>window.jQuery || document.write('<script src="/components/jquery/jquery.min.js"><\/script>')</script>
        <script src="/components/bootstrap/js/bootstrap.min.js"></script>
                
                <script src="/components/highlightjs/highlight.pack.js"></script>
        <script>hljs.initHighlightingOnLoad();</script>
    </body>
</html>
