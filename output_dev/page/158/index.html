<!DOCTYPE html>
<html>
    <head>
        <title>Home &mdash; @TheKeyboard &mdash; The ramblings of a grumpy programmer</title>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link href="/components/bootstrap/css/bootstrap.min.css" rel="stylesheet" type="text/css" />
        <link href="/components/bootstrap/css/bootstrap-responsive.min.css" rel="stylesheet" type="text/css" />
        <link href="/css/style.css" rel="stylesheet" type="text/css" />
        <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
        <!--[if lt IE 9]>
            <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->
        <link rel="stylesheet" href="/components/highlightjs/styles/github.css" />
        <link rel="alternate" type="application/atom+xml" href="/atom.xml" title="@TheKeyboard activity feed" />
        <style>
        /** quick fix because bootstrap <pre> has a background-color. */
        pre code { background-color: inherit; }
        </style>
    </head>
    <body>
        <header>
            <div class="navbar navbar-inverse navbar-fixed-top">
                <div class="navbar-inner">
                    <div class="container-fluid">
                        <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                        </a>
                        <a class="brand" href="/">@TheKeyboard</a>
                        <div class="nav-collapse collapse">
                            <ul class="nav">
                                <li><a href="/blog">Posts Archive</a></li>
                                <li><a href="/blog/categories">Categories</a></li>
                                <li><a href="/blog/tags">Tags</a></li>
                                <li><a href="/about">About</a></li>
                            </ul>
                        </div><!--/.nav-collapse -->
                    </div>
                </div>
            </div>
        </header>
        <div class="mainContent container">
            <div class="row-fluid">
                <div class="span8">
                        <article>
        <header>
            <h2><a href="/blog/2011/05/30/book-review-cakephp-cookbook">Book Review -- CakePHP 1.3 Application Development Cookbook</a></h2>
        </header>
        <div>
            <p>(Note: Packt Publishing provided me with a copy of this book in PDF
and MOBI formats for the purpose of me doing a review)</p>

<p>Once again, the fine folks at
<a href="http://packtpub.com">Packt Publishing</a> have asked me to review a
book. I must confess that I had mixed feelings reviewing
<a href="http://www.packtpub.com/cakephp-1-3-application-development-cookbook/book">CakePHP 1.3 Application Development Cookbook</a>.
First, the only CakePHP work I do these days is maintaining an old,
old CakePHP web site (not even version 1.2) and it's being
re-written in Python + Django. Second, I know the author personally
and I like Mariano so I was worried about what would happen if I
read the book and didn't like it. So I took the approach that most
fit what my current status with CakePHP is: someone who has used it
in the past, but hasn't used it for a while and is looking for
practical examples of how to accomplish specific tasks with the
framework.</p>

<p>I personally find the "cookbook" style of books to be the most
helpful. They enable me to quickly find answers to the problem
"show me how to do something realistic using your tool". Hello
World doesn't cut it for the tools I need to use. A common workflow
for me is finding an example of how to do something, and then start
tweaking it to meet by particular needs. I certainly cannot be the
only one who learns how to do things this way. So Mariano can rest
easy since I found his book to be exactly the type of guide an
experienced programmer who is not familiar with a specific tool can
use.</p>

<p>Like any well-thought-out book, they cover the main components of
CakePHP. One of the thing I liked was that you didn't have to
necessarily read the book from front-to-back in order to get
something from it. Within each chapter, you will find info on
accomplishing common generic tasks using framework-specific code. A
lot of it didn't look too foreign to me, so I'm comfortable that
1.3 is not a huge leap forward in terms of compatibility. Of
course, your mileage may vary.</p>

<p>I was also extremely happy to see a chapter dedicated to showing
people how to use the CLI shells available to you via CakePHP. Back
in the day I wrote a really crappy attempt to create a
read-eval-print loop for people choosing to use CakePHP. I called
it "the testing shell" and I did a really crappy job of promoting
it. It never got a lot of traction because of PHP's focus on the
web and lack of testing culture. Which dovetails nicely into a
chapter in this book on writing tests.</p>

<p>While it's not great that CakePHP ended up not using PHPUnit to
begin with, but having SOME testing is better than NO testing.
Congrats to Mariano for sticking his neck out and making sure
people understand why testing is important and how easy it is to
add in tests. Honestly, it's good that you can also see the tests
written for the framework as well. If you tweak things and try to
extend CakePHP, you have a pretty comprehensive test suite to find
out if you've broken anything else.</p>

<p>So I will recommend "CakePHP 1.3 Application Development Cookbook"
for the intermediate to advanced programmer who is looking to learn
how to accomplish specific tasks using CakePHP 1.3. I think
beginning developers are much better off actually learning some PHP
before trying to use a book like this. YOu should not be just
cut-and-pasting code without being able to understand what the code
itself is doing.</p>

        </div>
            </article>
    <article>
        <header>
            <h2><a href="/blog/2011/05/02/testing-web-services">Testing Web Services in Zend Framework 1.x</a></h2>
        </header>
        <div>
            <p>Typing that title made me feel weird, but the truth is that we are
getting close enough to ZF2 (at least in Release Candidate form) to
be released, so for posterity's sake I will start differentiating
between 1.x and 2. Makes me feel better at either rate.</p>

<p>Before I continue, I want to thank Giorgio Sironi for his very
helpful blog post about
<a href="http://giorgiosironi.blogspot.com/2010/03/clever-mock-objects-with-phpunit.html">clever mock objects</a>
that showed me the technical details on solving my particular
problem, along with <a href="http://twitter.com/elazar">@elazar</a> and
<a href="http://twitter.com/onyxraven">@onyxraven</a> for their suggestions.</p>

<p>I needed to test a remote web service for an application at work.
Right away I knew I wanted to use
<a href="http://www.phpunit.de/manual/3.5/en/test-doubles.html">Test Doubles</a>
to do it. I wanted to create a mock object to represent the web
service I needed to speak too, and create some data fixtures
containing known responses to queries so that I could test the code
without speaking to the web service itself. A key feature of a unit
test is that it should (unless not avoidable) never connect to a
web service or a database. Those sort of things are probably better
suited as either components tests or acceptance tests. I'm no
testing expert, but that is an approach that seems to resonate with
me.</p>

<p>The problem I ran into was that one of the web service calls would
react differently depending on what parameter is was passed into.
Reading the existing PHPUnit documentation did not provide me with
enough hints on how to solve this particular problem, so while I
dug around duckduckgoing for a solution I asked Twitter for help.
One blog post and 3 tweets later, I had the underpinnings for my
test. Check it out <a href="http://gist.github.com/952286">here</a></p>

<p>A walk-through is probably required in order to explain what I did.</p>

<p>First, we create a mock object using the Mock Builder interface and
map it to the web service object we wanted to use. Then, I loaded
in the fixture data I wanted to use, and also populated two arrays
that are a critical part of determining which response to return
based on the parameter passed in. Finally, I create an expectation
object for the 'get' method I am trying to test, telling it that I
am stubbing out 3 request-and-response pairings. Then I pass the
excpectation object and the two arrays containing acceptable
parameters and responses into a different method so that it figures
out how to handle my request for that method. It took me a while to
get this model working in my head to the point where I could
explain it.</p>

<p>To make things even easier to test, I created a Client object that
accepts an instance of the web service as a parameter, thereby
using Dependency Injection / Inversion of Control to make it
possible to actually test this thing. Doing it this way, the Client
really has no idea that it is in fact talking to a mock web service
instead of a real one. All it does know is that it is getting back
JSON responses from this "web service", and the code takes care of
the rest.</p>

        </div>
            </article>
    <article>
        <header>
            <h2><a href="/blog/2011/04/26/real-people-building-real-things">PHP Community Conference 2011 -- Real People Building Real Things</a></h2>
        </header>
        <div>
            <p>I had the awesome opportunity to (assist with and) attend the 2011
<a href="http://www.phpcon.org">PHP Community Conference</a> in Nashville on
April 21-22, 2011. I had been hoping to speak, but when I started
with with Ben Ramsey at Moontoast, it became a lot easier to attend
the conference while spending a few days meeting and working with
my new colleagues. Being a good co-worker, I manned the
registration table along with
<a href="http://twitter.com/jmccree">Jefferson McCree Jones</a> and helped out
as much as I could. Lucky for me I was on the same level as the
tops being given "upstairs" and got to see a wide variety of
outstanding talks. Add in the awesome post-talk activities and the
great conversations I had with old friends and new ones, I cannot
imagine a better time at a technical conference. I even had the fun
experience of getting an apology for past behaviour from someone I
would never have expected.</p>

<p>The theme of this conference seemed to be "share with us something
you did", which is a great concept. I think you could also have
called it "Real people building real things". Part of the reason
you want to talk to people when you're at a conference is to find
out what sort of stuff they have been working on. As cool as some
technical talks are, they get boosted to another level if there is
tangible evidence to back up what they are talking about. I just
kept shaking my head at the "war stories" told to me about crazy
situations. I don't think I will ever forget
<a href="http://twitter.com/brianlmoon">Brian Moon</a> tell me about the time
one of their humongous DB servers went down due to a faulty
controller card, and keeping the site up by sending content to
people via IM. Check out Brian's
<a href="http://brian.moonspot.net/php-frameworks">thoughts on PHP frameworks</a>.</p>

<p>I go to conferences to LEARN THINGS. Sure, it's awesome to meet new
people and keep renewing older friendships (my career management
skills always take leaps and bounds every time I talk to
<a href="http://paul-m-jones.com/">Paul Jones</a> but I feel like the day I
stop learning stuff is the day I should get out of programming and
consider a career change. Every talk, from Rasmus' keynote advising
us to pay attention to the performance of our applications to Terry
Chay's closing talk about how frameworks are becoming so
commoditized that deployment environments like
<a href="http://orchestra.io">Orchestra</a> are optimizing things to make
deploying applications built with specific frameworks.</p>

<p>The PHP environment is such a weird one compared to other languages
out there. Made for the web, optimized for rapid development, it is
really like no other. The only parallel I see today is Javascript.
Projects like Node.js are trying to make Javascript more viable
outside of the cozy sandbox of the browser, but running PHP on the
server outside the cozy sandbox of the web server usually isn't a
good idea. Where is the ecosystem of performance-related tools like
APC, <a href="https://github.com/facebook/xhprof">XHProf</a> and Memcached in
the Ruby and Python worlds? Maybe I'm running in different circles,
but I haven't see blog posts of people using tools to profile their
Rails apps to look for bottlenecks and poorly-performing code. I'd
be interested in seeing some of them, especially for Python and
Django apps as I get further and further into my Django
experiences.</p>

<p>Hate PHP all you want for it's ease of use (which irritates those
developers who want to be snobs) and internal function parameter
inconsistencies, but what cannot be denied is the focus of those
developers towards the top of the community on performance-related
issues. These days I think it is less and less possible to promote
the idea that developer happiness counts for more than application
performance, and I think that despite all the hate out there for
it, PHP still is at the head of the pack in terms of how easy it is
to create high-performance applications using lightweight
frameworks and libraries. This is the concept that I kept hearing
throughout the conference. Pay attention to the size of your code!
Profile your application to find out where things are really slow!
Consider all the tools in other languages available to you!</p>

<p>The web is where PHP started, and the web is where it will stay. I
used to feel guilty when I started fooling around with Rails and
more recently Python. Those tools have their place too, with
awesome communities surrounding them. Again, it seems the focus for
PHP is to add in tools that help you create the leanest, tightest,
fastest web applications that you can. Sure, Facebook has created
HipHop to turn PHP into C++ executables because they are facing
issues that boggle the mind. Sure, frustrated programmers who had a
hard time navigating the spaghetti tendencies of PHP and Java found
Rails more to their liking, soothing their desire for hiding
complexity behind the DSL of a great framework. Sure, I find
calmness and zen in the whitespace-driven simplicity of Python and
the ability of Django to let you quickly create a site backed with
a powerful and easily-extended admin area.</p>

<p>That doesn't mean you can't find real people building real things
using PHP. I'm one of those people, and you can be too.</p>

<p>(PS -- I was totally brain-dead for not mentioning the awesome job
the folks at <a href="http://openevent.tv">OpenEvent</a> did in livecasting
some of the talks at the event. I think there is a great need for
high-quality recording of talks at conferences and I wish them luck
going forwards convincing others that they should be an essential
part of any future conferences)</p>

        </div>
            </article>
    <nav>
        <a href="/page/157">Newer Posts</a><br />
        <a href="/page/159">Older Posts</a><br />
    </nav>
                </div>
                <div class="span4 sidebar">
                    <div class="well">
                        <h4>@TheKeyboard <small>The ramblings of a grumpy programmer</small></h4>
                    </div>
                    <div class="well sidebar-nav">
                        <h4>Links</h4>
                        <ul class="nav">
                            <li><a href="http://sculpin.io">sculpin.io</a></li>
                            <li><a href="http://twitter.com/getsculpin">@getsculpin</a></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        <footer class="container">
            &copy; 2014 @TheKeyboard
        </footer>

        <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
        <script>window.jQuery || document.write('<script src="/components/jquery/jquery.min.js"><\/script>')</script>
        <script src="/components/bootstrap/js/bootstrap.min.js"></script>
                
                <script src="/components/highlightjs/highlight.pack.js"></script>
        <script>hljs.initHighlightingOnLoad();</script>
    </body>
</html>
