<!DOCTYPE html>
<html>
    <head>
        <title>Home &mdash; @TheKeyboard &mdash; The ramblings of a grumpy programmer</title>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link href="/components/bootstrap/css/bootstrap.min.css" rel="stylesheet" type="text/css" />
        <link href="/components/bootstrap/css/bootstrap-responsive.min.css" rel="stylesheet" type="text/css" />
        <link href="/css/style.css" rel="stylesheet" type="text/css" />
        <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
        <!--[if lt IE 9]>
            <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->
        <link rel="stylesheet" href="/components/highlightjs/styles/github.css" />
        <link rel="alternate" type="application/atom+xml" href="/atom.xml" title="@TheKeyboard activity feed" />
        <style>
        /** quick fix because bootstrap <pre> has a background-color. */
        pre code { background-color: inherit; }
        </style>
    </head>
    <body>
        <header>
            <div class="navbar navbar-inverse navbar-fixed-top">
                <div class="navbar-inner">
                    <div class="container-fluid">
                        <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                        </a>
                        <a class="brand" href="/">@TheKeyboard</a>
                        <div class="nav-collapse collapse">
                            <ul class="nav">
                                <li><a href="/blog">Posts Archive</a></li>
                                <li><a href="/blog/categories">Categories</a></li>
                                <li><a href="/blog/tags">Tags</a></li>
                                <li><a href="/about">About</a></li>
                            </ul>
                        </div><!--/.nav-collapse -->
                    </div>
                </div>
            </div>
        </header>
        <div class="mainContent container">
            <div class="row-fluid">
                <div class="span8">
                        <article>
        <header>
            <h2><a href="/_posts/2009-07-07-multiple-form-defaults-using-jquery.markdown"></a></h2>
        </header>
        <div>
            <hr />

<p>layout: post</p>

<h2>title: Multiple Form Defaults Using jQuery</h2>

<p>At <a href="http://www.xmlteam.com">work</a>, one of the projects I work on is an <a href="http://www.sportsstandards.org/sd/sportscaster">open source web service front end</a> for our Perl-based main application.  It has a front-end for it that uses Javascript to dynamically build a query to the web service.  I didn't write it, but I think it's kind of neat.  One of the things I was asked to do was create some code that allow users to define a series of default values for the (/me goes to count) 7 different forms that are in the front-end.  There had been some pre-existing code, but I decided it needed to be refactored to be a lot more simpler than the previous system.  After all, I was not writing this code for myself but for our clients.  They would definitely not be as familiar with the system as I would be, so simple is always better.
</p>

<p>
So, the trick was to figure out what pieces I was going to use to build this.  Since I am a <a href="http://jquery.com">jQuery</a> fan, I started searching for plugins to make it all work nice.  My research dug up the perfect tool: the <a href="http://www.keyframesandcode.com/resources/javascript/jQuery/demos/populate-demo.html">jQuery Form Population</a> plugin.  I know you'll follow the link and read it, but as a quick summary it is a plugin for allowing you to populate values in a form on the client side, meaning in Javascript, instead of the server side, which in this case would be everyone's favourite online whipping-boy PHP.</p>

<p>
Once I played around with the plugin (and actually read the documentation) I realized that the simple solution I wanted was at hand.  Let me show you what I did:
~~~
function clearAllDefaults() {
    $('#searchDocumentsForm').clearForm();
    $('#searchDocumentsForm').populate(
        {
            'revision-control':'all',
            'priorities':'all',
            'content-returned':'metadata-only',
            'rendering-engine':'xslt',
            'query-debug':'false',
            'gateway-theme':'default',
            'stylesheet':''
            }, 
        {'reset-form':false, 'identifier':'name'}
        );

    $('#getDocumentsForm').clearForm();
    $('#getDocumentsForm').populate(
        {
            'rendering-engine':'xslt',
            'query-debug':'false',
            'gateway-theme':'default',
            'stylesheet':''
            }, 
        {'reset-form':false, 'identifier':'name'}
        );

    $('#searchEventsForm').clearForm();
    $('#searchEventsForm').populate(
        {
            'date-offset':0,
            'date-offset-span':1,
            'date-offset-midnight':1600,
            'sort-order':'asc',
            'content-returned':'metadata-and-scores',
            'rendering-engine':'xslt',
            'query-debug':'false',
            'gateway-theme':'default',
            'stylesheet':''
            }, 
        {'reset-form':false, 'identifier':'name'}
        );

    $('#getEventsForm').clearForm();
    $('#getEventsForm').populate(
        {
            'content-returned':'metadata-and-scores',
            'rendering-engine':'xslt',
            'query-debug':'false',
            'gateway-theme':'default',
            'stylesheet':''
            }, 
        {'reset-form':false, 'identifier':'name'}
        );
}

function setDefaults(defaultId) {
    for (var formId in defaults[defaultId]) {
        $('#' + formId).populate(defaults[defaultId][formId], {'reset-form':false, 'identifier':'name'});
    }   
}

function outputDefaultChoices() {
    document.write('<table width="200"><tr valign="top"><td width="100" nowrap><b>Default Selections:</b></td>');
    document.write('<td nowrap><input type="radio" name="defaultSet" value="none" checked onChange="clearAllDefaults();"/> none<br />');
    
    for (var myDefault in defaults) {
        document.write('<input type="radio" name="defaultSet" value="' + myDefault + '" onChange="clearAllDefaults();setDefaults(\'' + myDefault + '\');"/> ' + myDefault + '<br />');
    }

    document.write('</td></tr></table>');
}
~~~
This is load-defaults.js.  It contains functions that I want to use to set the defaults.  I think it's pretty self-explanatory.  I would like a less-ugly way of implementing what I did in outputDefaultChoices(), so let me know if there is a better way.  
</p>

<p>
Up at the top of that code is where we are setting a bunch of defaults for when the form front-end is initially loaded.  The populate plugin accepts JSON containing not only the key-value pairs of form field name and value respectively, but also accepts a bunch of very useful options.  'reset-form':false tells the plugin to not simple reset the form when populating (we might not want to overwrite some existing values). 'identifier':'name' is a cool feature of the plugin that allows you to specify *how* you want the plugin to figure out how to map the field names you sent it already to the form itself.  Default is 'id' but much of the existing form did not have id fields for the form fields, so I figured it was less work for me to make the plugin figure it out. ;)
</p>

<pre><code>/**
 * In order to create a set of defaults, you simply have to create
 * a JSON array of options in the following format
 *
 * defaults[&lt;set name&gt;] = {'&lt;formid&gt;':{&lt;json pairs of fields and values&gt;}}
 * 
 * defaults['favorites'] = {'searchDocumentsForm':{'team-keys':'l.mlb.com-t.18', 'fixture-keys':'general-news', 'date-window':'2400'}};
 * 
 * Adding in defaults for multiple forms is easy.  Here's an example
 * of setting the team-keys in both the searchDocuments and searchEvents forms
 *
 * defaults['multiple'] = {
 *  'searchDocumentsForm':{'team-keys':'l.mlb.com-t.17'},
 *  'searchEventsForm':{'team-keys':'l.mlb.com-t.17'}
 * }
 */

var defaults = new Array();

defaults['favorites'] = {
        'searchDocumentsForm':{
            'league-keys':'l.mlb.com', 
            'fixture-keys':'general-news', 
            'date-window':'2400',
            'publisher-keys':'sportsnetwork.com',
            'max-result-count':'5',
            'revision-control':'all',
            'priorities':'all',
            'content-returned':'metadata-only',
            'rendering-engine':'xslt',
            'query-debug':'false',
            'gateway-theme':'default',
            'stylesheet':''
            },

        'getDocumentsForm':{
            'doc-ids':'xt.9569941-recap', 
            'rendering-engine':'xslt',
            'query-debug':'false',
            'gateway-theme':'default',
            'stylesheet':''
            },

        'searchEventsForm':{
            'league-keys':'l.mlb.com', 
            'publisher-keys':'sportsnetwork.com',
            'max-result-count':'200',
            'date-offset':0,
            'date-offset-span':1,
            'date-offset-midnight':1600,
            'sort-order':'asc',
            'content-returned':'metadata-and-scores',
            'rendering-engine':'mvc-view',
            'query-debug':'false',
            'gateway-theme':'default',
            'stylesheet':'events'
            },

        'getEventsForm':{
            'event-keys':'l.mlb.com-2009-e.24850',
            'publisher-keys':'sportsnetwork.com',
            'content-returned':'metadata-and-scores',
            'rendering-engine':'mvc-view',
            'query-debug':'false',
            'gateway-theme':'default',
            'stylesheet':'events'
            }
        };

defaults['team-news'] = {
        'searchDocumentsForm':{
            'team-keys':'l.mlb.com-t.18', 
            'fixture-keys':'general-news,post-event-coverage,pre-event-coverage', 
            'date-window':'9600',
            'publisher-keys':'sportsnetwork.com',
            'max-result-count':'5',
            'revision-control':'latest-only',
            'priorities':'all',
            'content-returned':'metadata-only',
            'rendering-engine':'xslt',
            'query-debug':'false',
            'gateway-theme':'default',
            'stylesheet':'sportsml2html-listing'
            }
        };

defaults['standings'] = {
        'searchDocumentsForm':{
            'league-keys':'l.mlb.com', 
            'fixture-keys':'standings-by-division', 
            'date-window':4800,
            'max-result-count':1,
            'revision-control':'all',
            'priorities':'all',
            'content-returned':'all-content',
            'rendering-engine':'xslt',
            'query-debug':'false',
            'gateway-theme':'default',
            'stylesheet':'sportsmlt'
            }
        };
</code></pre>

<p>
This is the sample configuration file that we distribute with the application to show people how to use it.  Look, I even provided instructions at the top on how to use it!
</p>

<p>
Anyway, if you've been looking for a way to create multiple sets of defaults for your forms, switchable with the click of a button, I hope this code is useful to you.
</p>

<p></json></formid></set></p>

        </div>
            </article>
    <article>
        <header>
            <h2><a href="/_posts/2009-07-22-some-clarity-about-canadian-health-care.markdown"></a></h2>
        </header>
        <div>
            <hr />

<p>layout: post</p>

<h2>title: Some Clarity About Canadian Health Care</h2>

<p>Now normally I stay far away from discussing politics on my blog, or anything not related to programming.  However, the debate going on in the US right now over plans to implement some sort of government-funded health care plan in one I find fascinating.  I have many American friends that I follow via Twitter and some of the things I have read have made me decide that a blog post from someone familiar with the Canadian health care system might help clear things up.</p>

<p>I must also provide this disclaimer:  I am not a doctor, no-one in my immediate family is a doctor, but I do know people who work as doctors and nurses have spoken with them about these issues in the past.</p>

<p>
Let's start by looking at my understanding of the US health care system as it stands right now.  The US spends more per person than any other country to provide health care, yet it appears that the vast majority of people are unable to benefit from this.  I have read / heard anecdotal evidence that suggests that huge medical bills are the cause for the financial ruin of many families, and a leading cause of bankruptcies.  This is a tragedy that no-one should have to go through.</p>

<p>
On the flip side, the US is the source of many medical breakthroughs.  But I would hazard a guess that the quality of health care a system delivers is in no way related to the ability of that system to develop new procedures or new drugs.  I see them as two different systems, that interact with each other at the end of discovery.  I hope that makes sense.
</p>

<p>
So, let's take a look at how the health care system works in my home province of Ontario.  I was born in Ontario and have lived my entire life here.  My only exposure to what some people would call "critical" surgery was when I was two years old.  I had eye surgery on my left eye to correct a lazy eye that would've left me cross-eyed (and a circus-show freak as my wife often reminds me).  That's been it.  However, various family members of mine have been in the position of needing surgery of the "non-optional" variety, so I think I'm somewhat qualified to discuss this.
</p>

<p>
Now, those who oppose the government getting involved in being the ones who fund the health care system seem to have a few objections.  This is by no means a comprehensive list, but some of these objections are:
<ul>
<li>it will cost more than what is being spent on it by now</li>
<li>people have to wait for vital surgery</li>
<li>people will not have any choice as to what doctor they get to see</li>
<li>it will stop innovation in the field of drug research</li>
</ul>
</p>

<p>I think those 4 are enough for me to start with.  Let's look at them one at a time.</p>

<h3>It will cost more than what is being spent on it now</h3>

<p>
Yeah, I don't see how this is possible.  If you replace insurance companies with the government, despite the government's well-earned reputation for mismanagement it will cost less because the government won't be looking to turn a profit.  Canada's costs-per-capita are significantly lower than the US.  So I think it's safe to say this objection is not true.
</p>

<h3>People will have to wait for vital surgery</h3>

<p>
This is something that both Americans and Canadians like to throw around, especially those who would like to think that by spending some of their own money they can get the health care they need RIGHT NOW.   See, this issue is a case of perception vs. reality.  I will use my father as an example.  My father has had surgery on both eyes, one knee and his shoulder in the last two years.  From the time he went to see the doctor to say "I need this fixed" until the surgery in question happened, I would estimate no more than three months elapsed in every case.
</p>

<p>
Now, if he had needed to get this stuff done right away he could've gotten it in less than a week.  If you have a life-threatening problem, they get you what you need incredibly fast.  The problem is that one person's life-threatening problem sometimes appears to be a minor inconvenience in the eyes of the health care system.  A bum knee that you can still walk on is not going to get you to jump to the front of the line.  As I have told many of my American friends, if you have a life-threatening problem you will get the care you need right away.  If you are not in immediate danger or disabled, well, you're just going to have to wait.  Since I have not run into this in the US, I don't know what to say to people about this.  Sorry that paying for it yourself won't let you jump to the front of the line?  That's somewhat tongue-in-cheek, but wait times for minor procedures are common in the US too, aren't they?  
</p>

<p>Also, I wish to tell people that the Canadian health-care system DOES NOT PAY FOR EVERYTHING.  It pays for basic medical care and life-saving surgeries for it's citizens.  I still have to pay for dental care, optical care and prescription drugs out of my own pocket.  Many Canadian employers offer supplemental insurance to their employees to cover this.  My wife's company does, my own does not.  But if I break my leg playing softball, I know I won't be given a bill as I limp out of hospital.  I will have to pay for the painkillers, that's for sure.
</p>

<p>So, in our system I'm willing to accept that waiting for non-critical surgery is ok.  I think I have presented evidence that makes this objection not valid.</p>

<h3>People will not have any choice as to what doctor they get to see</h3>

<p>
This is totally false.  The government does not tell me who I can and cannot see to receive health care from.  I am allowed to pick and choose my own family doctor, and I am limited to the choice of any specialist for a particular procedure based only on the availability of that doctor within Ontario to see me.  Yes, there are times when the government pays for out-of-province procedures (yes, including going to Buffalo for an MRI if needed) so that option sometimes exists.  But that is in extreme circumstances only.  So please, don't believe it when an opponent of government-funded health care talks about people only dying waiting for procedures in a government-funded system.  It happens in the US too.</p>

<p>I think it's also a good time to give a little insight into how the government actually pays doctors.  See, the doctor tell the government what services they have provided for their patients.  The government then says "okay, we will give you X amount of money for what you've done according to the following rules" and that is that.  Doctors cannot charge above government rates for procedures that the government pays doctors for.  That does not mean that doctors are unable to charge what they want for procedures the government health care system does not pay for.  My mother had minor cosmetic surgery to remove some moles and skin tags near her eyes and I spit my drink out when she told me how much it cost her.  I'm guessing that is the normal reaction in the US.
</p>

<h3>It Will Stop Innovation In The Field Of Drug Research</h3>

<p>I'm not qualified to speak to this, but I will say the following: it will certainly reduce the *profits* pharmaceutical companies make.  An American friend of mine tried to explain to me why this was such a bad thing, and that if a company decided to not sell a life-saving drug to the government-run system that it would be a bad thing for patients.  I agreed with him, and also agreed that the government shouldn't force pharma to sell them the drugs.  Will this cause problems?  Probably.  Maybe it just opens up a way for a competitor to sell a similar drug to the government instead.  But if the pharma industry can't make huge amounts of money, I'm guessing they are reluctant to invest it in R&D, although I think the massive amount of money they would not have to spend on marketing might offset that.  So I am okay with saying that this statement *might* be true, unless the government agrees to buy the pills for something resembling a fair return on pharma investment.
</p>

<p>
So there you have a small and hopefully-informative look at the Canadian health care system.  Is it perfect?  No.  But it delivers a level of service that should be causing Americans to want to emulate it, not demonize it.  Basic health care is a right that should be given to all citizens as it benefits society as a whole.  You can call me a socialist if you want, but I've seen the benefits of our health care system up close and personal.  
</p>

<p>
If you have something to add in the comments, please be aware that I will delete any comments that I find objectionable.  Keep it clean and reasonable.
</p>

        </div>
            </article>
    <article>
        <header>
            <h2><a href="/_posts/2009-07-29-so-you-want-to-telecommute-part-1-building-trust.markdown"></a></h2>
        </header>
        <div>
            <hr />

<p>layout: post</p>

<h2>title: So You Want To Telecommute? Part 1 - Building Trust</h2>

<p>I had been planning for a while to write a series of articles about my experiences with telecommuting.  Prompted by <a href="http://blog.calevans.com/2009/07/29/remote-developers/">Cal Evans blog post about remote developers</a> I decided it was time.</p>

<p>
</p>

<p>My current position as a "software engineer" for <a href="http://www.xmlteam.com">XML Team Solutions</a> is a 100% telecommuting job.  In fact, all of us telecommute:  
<ul>
<li>I'm in Milton (about 40 minutes or so west of Toronto)</li>
<li>two in Toronto</li>
<li>one in <a href="http://www.saublebeach.com">Sauble Beach, Ontario, Canada</a> (a small town on the eastern shores of Lake Huron)</li>
<li>one in Victoria, British Columbia, Canada</li>
<li>one in Beverly Hills, California, USA</li>
<li>one Connecticut, USA</li>
</ul>
</p>

<p>Now, when you have a company where none of your fellow employees works in the same city, let alone the same country, you quickly find out what the key issue really is: trust.  If you don't trust that the people who work with are professional enough to GET SHIT DONE then telecommuting will not work.  It really is that simple.  I've met my boss in person a grand total of 3 times.  Sure, there have been some video chats and phone calls but we've only actually been together on three occasions:  our corporate retreat just after I got hired, once to attend a trade show in Florida, and once just recently to attend a trade show in Pittsburgh.  Unlike a lot of people, I do not dread meeting my boss. ;)
</p>

<p>
Look, I know that some people who manage developers are convinced that if they were to allow telecommuting on a regular basis that people would instead spend time screwing around instead of getting work done.  This attitude is unfortunately very common.  Even more disappointing are the people who *do* screw around when telecommuting instead of actually working.  I guess they don't realize how it's hurting their chances of doing it going forward.
</p>

<p>The "command-and-control" management style that seems to be applied at some software companies creates an adversarial relationship between employees and employer.  By forcing you to come into an office to work every day, it is a not-so-subtle message that you are not trusted to get things done without supervision.  I've been through this in my own professional career, and sometimes this attitude is warranted.  If you've had the misfortune of having (or working with) a group of employees more interested in goofing off than doing the job that the business requires, then you know what I'm talking about here.  However, I'm more interested in the idea of the value of trust in telecommuting and hiring employees that you can trust to get work done.
</p>

<p>
Now before you start dismissing what I'm saying here, I understand that there is usually a really good reason to have all your developers in one place other than you want to keep an eye on them:  meetings.  But then again, don't people have conference calls all the time?  Or is there something about collaborative developer work that people think does not work with telecommuters?  In my next installment I will talk about what I think are the critical tools for managing collaboration amongst telecommuting developers.
</p>

        </div>
            </article>
    <nav>
        <a href="/page/110">Newer Posts</a><br />
        <a href="/page/112">Older Posts</a><br />
    </nav>
                </div>
                <div class="span4 sidebar">
                    <div class="well">
                        <h4>@TheKeyboard <small>The ramblings of a grumpy programmer</small></h4>
                    </div>
                    <div class="well sidebar-nav">
                        <h4>Links</h4>
                        <ul class="nav">
                            <li><a href="http://sculpin.io">sculpin.io</a></li>
                            <li><a href="http://twitter.com/getsculpin">@getsculpin</a></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        <footer class="container">
            &copy; 2014 @TheKeyboard
        </footer>

        <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
        <script>window.jQuery || document.write('<script src="/components/jquery/jquery.min.js"><\/script>')</script>
        <script src="/components/bootstrap/js/bootstrap.min.js"></script>
                
                <script src="/components/highlightjs/highlight.pack.js"></script>
        <script>hljs.initHighlightingOnLoad();</script>
    </body>
</html>
