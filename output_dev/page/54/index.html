<!DOCTYPE html>
<html>
    <head>
        <title>Home &mdash; @TheKeyboard &mdash; The ramblings of a grumpy programmer</title>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link href="/components/bootstrap/css/bootstrap.min.css" rel="stylesheet" type="text/css" />
        <link href="/components/bootstrap/css/bootstrap-responsive.min.css" rel="stylesheet" type="text/css" />
        <link href="/css/style.css" rel="stylesheet" type="text/css" />
        <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
        <!--[if lt IE 9]>
            <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->
        <link rel="stylesheet" href="/components/highlightjs/styles/github.css" />
        <link rel="alternate" type="application/atom+xml" href="/atom.xml" title="@TheKeyboard activity feed" />
        <style>
        /** quick fix because bootstrap <pre> has a background-color. */
        pre code { background-color: inherit; }
        </style>
    </head>
    <body>
        <header>
            <div class="navbar navbar-inverse navbar-fixed-top">
                <div class="navbar-inner">
                    <div class="container-fluid">
                        <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                        </a>
                        <a class="brand" href="/">@TheKeyboard</a>
                        <div class="nav-collapse collapse">
                            <ul class="nav">
                                <li><a href="/blog">Posts Archive</a></li>
                                <li><a href="/blog/categories">Categories</a></li>
                                <li><a href="/blog/tags">Tags</a></li>
                                <li><a href="/about">About</a></li>
                            </ul>
                        </div><!--/.nav-collapse -->
                    </div>
                </div>
            </div>
        </header>
        <div class="mainContent container">
            <div class="row-fluid">
                <div class="span8">
                        <article>
        <header>
            <h2><a href="/_posts/2007-04-17-whats-in-chris-brain-april-2007-edition.markdown"></a></h2>
        </header>
        <div>
            <hr />

<p>layout: post</p>

<h2>title: What's In Chris' Brain, April 2007 Edition</h2>

<p>Here are some of the things bouncing around in my head this month:</p>

<ul>
<li>Following my "just build it, damnit!" mantra, I finally got the new <a href="http://www.ibl.org">web site for my simulation baseball league</a> launched.  It's not 100% the way I want it layout-wise, but I can tweak that going forward.  It at least has all the content that's required.</li>
<li>Make sure you test your stuff in IE7.  I spent 2 hours debugging my RADAR-based stuff for the above-mentioned site and gave up on it, pulling it all out in the interest of getting the damn thing working.  I'm obviously doing something wrong, but at 12:30AM I was interested in making sure it just works.</li>
<li>Now, I have time to work on the interactive console for CakePHP, hopefully getting it done in time for <a href="http://www.phparch.com/tek">php|tek</a></li>
<li>Speaking of php|tek, I have to also start working on fixing up my presentation with the shiny new graphics (Ian, you need to email me about this!) so that it looks better and flows better.  Lots of complaints that I went too fast so I want to cut about 10 slides, slow it down, and leave time for questions.  I'm sure there will be lots of hecklers (I'm looking at you, <a href="http://cake.insertdesignhere.com/">Nate</a>) so I'll need time to smack them down.</li>
<li>Don't worry <a href="http://www.teachersatrisk.com">Mom</a>, I haven't forgotten about that sidebar widget I promised you</li>
<li>My friend Kevin B. continues to delve deeper into Rails, and thanks me for pointing him at Erlang (check out <a href="http://yarivsblog.com">this blog</a> for some more info about a guy doing some cool things with Erlang)</li>
<li>I've come to the conclusion that I don't watch enough TV for a MythBox to be of use to me, but my oldest still watches a lot of TV.  Unsure what to do here.  Maybe the XBox Media Center is still a good solution, and teach my oldest to use the interface to download stuff she's interested in.</li>
<li>Komodo vs. Zend Studio still rages on for supremacy on my MacBook Pro.  I want to support the Komodo guys because I've developed personal relationships with some of the employees, but Zend Studio just feels a little more responsive and lets me setup remote projects (I like to edit my files remotely instead of locally and copying them over).  The latest beta of Komodo that I was asked to check out is getting there in terms of auto-completion, and I hope they've found my feedback to be of value.
</li>
<li>My own Rails stuff has been shoved aside for the foreseeable future.  I just don't have the time, and my PHP chops are getting back to where I want them again thanks to my work projects.  I guess I just don't have the hate-on for PHP that some of my friends do.</li>
</ul>

        </div>
            </article>
    <article>
        <header>
            <h2><a href="/_posts/2007-04-24-what-happens-when-a-good-idea-doesnt-actually-work.markdown"></a></h2>
        </header>
        <div>
            <hr />

<p>layout: post</p>

<h2>title: What Happens When A Good Idea Doesn't Actually Work?</h2>

<p>Being a programmer with Attention Deficit Disorder when it comes to new ideas.  I'm always interested in new ideas, technologies and programming languages.  So, since I had been doing some work with web services I found the RADAR idea very interesting.  I even posted some code snippets and thoughts about it.  Then I went and tried to actually implement it.  Not so good.
</p>

<p>
The pages worked fine in Firefox, but IE was complaining all over the place about it.  Bad XSLT and other weird errors.  Since I had to get the thing fixed in short order, I followed my "just build it, damnit" mantra and ripped out all my code that called the REST service and did it without the web service.  Am I disappointed?  Hell yes.  I was *convinced* this was a good idea.  But perhaps the truth of the matter was that I was trying to solve a problem that did not exist, with the lofty goal of "make your application the API" that I've seen espoused in many places.
</p>

<p>
So what went wrong?  I still have no clue.  All I can do is go back to what I did and try it again.  On the surface it should've worked properly.  The problem with what I was doing was that with it spitting back information via XML, debugging things when they've gone wrong is hard.  Or maybe it's hard *for me* because I haven't spent much time doing something like this.</p>

<p>
That's really the downside to playing with new technologies:  if you're not 100% sure how to debug it when it goes wrong, you could end up doing more harm than good.  I think REST is still a really good method by which to "make the site your API".  I can now spend some time looking at it and seeing if I can't figure out just where I went wrong.</p>

        </div>
            </article>
    <article>
        <header>
            <h2><a href="/_posts/2007-04-27-fat-models-skinny-controllers.markdown"></a></h2>
        </header>
        <div>
            <hr />

<p>layout: post
title: Fat Models, Skinny Controllers
date: 2007-04-27</p>

<h2>author: Chris Hartjes</h2>

<p>I've become a convert to the design concept that says when you build something with an MVC pattern, you should have fat models and skinny controllers.  What does this really mean?  It means that you put as much of your business logic as you can into your models and all the controller should be doing is retrieving data from the model and passing it to the view.  Nice and simple, but a very powerful concept once you start doing it.</p>

<p>So, despite my problems using the RADAR concept for the <a href="http://www.ibl.org">Internet Baseball League</a> web site, I did do the models and controllers the way I wanted.  Here's what I'm talking about:
<br />
(Note the use of overriding the default table and database names.  CakePHP lets you use legacy databases, and don't let anyone tell you otherwise)
~~~
/**
 * Model for accessing schedule table
 *
 * @author Chris Hartjes
 */

class Schedule extends AppModel
{
    var $name = 'Schedule';
    var $useTable = 'sched2007';
    var $useDbConfig = 'stats';

    function get($week) {
        $scheduledGames = array();
        $team = array("a01" => "BUF", "a02" => "COU", "a03" => "HAG", "a04" => "TRI",
                    "a05" => "BOW", "a06" => "MCM", "a07" => "PHI", "a08" => "WMS",
                    "a09" => "LAW", "a10" => "PAD", "a11" => "POR", "a12" => "STL",
                    "n01" => "CSP", "n02" => "COL", "n03" => "MIN", "n04" => "SDQ",
                    "n05" => "BUZ", "n06" => "CAJ", "n07" => "DTR", "n08" => "SCS",
                    "n09" => "CRE", "n10" => "MAD", "n11" => "SEA", "n12" => "SPO");
        $results = $this->findAll("home LIKE 'a%' AND week = " . (int)$week);
        $data = array();

        foreach ($results as $result) {
            $home = $team[$result['Schedule']['home']];
            $away = $team[$result['Schedule']['away']];
            $data[$home] = array('home' => $home, 'away' => $away);
        }

        asort($data);

        foreach ($data as $home => $matchup) {
            $scheduledGames[$home] = $matchup;
        }

        $results = $this->findAll("home LIKE 'n%' AND week = " . (int)$week);
        $data = array();

        foreach ($results as $result) {
            $home = $team[$result['Schedule']['home']];
            $away = $team[$result['Schedule']['away']];
            $data[$home] = array('home' => $home, 'away' => $away);
        }

        asort($data);

        foreach ($data as $home => $matchup) {
            $scheduledGames[$home] = $matchup;
        }
        
        return $scheduledGames;
    }
}
~~~
</p>

<p>
Now *that* is a fat model.  I'm manipulating all the business logic within my model and returning it.  Now, here's what the controller looks like:
<br />
<br />
~~~
/**
 * Controller for displaying individual weeks
 * of the IBL schedule
 *
 * @author Chris Hartjes
 */

class ScheduleController extends AppController
{
    var $name = 'Schedule';
    var $uses = array('Schedule', 'Game');
    var $layout = 'rosters';
    var $cacheAction = "1 day";

    function index($week)
    {
        $game = new Game();
        $week = (int)$week;

        if ($week == 0) {
            $week = $game->getMaxWeek();
        }

        $schedule = new Schedule();
        $this->set('schedule', $schedule->get($week));
        $this->set('week', $week);
        $this->set('maxWeek', $game->getMaxWeek());
        $this->set('scheduleWeek', $week);
    }

}
~~~
</p>

<p>See, the schedule controller is nice and thin.  All it does is get the week as a parameter passed into it via the URL and then tells the model to give me all me the schedule for the week.  Simple, easy to understand and even easier to maintain.</p>

<p>
I know that sometimes these things don't make sense at first but once you actually use them...and then have to go and modify something you quickly realize just what advantage you are getting from it.  Try seeing if you can refactor your MVC-based app (CakePHP or otherwise) to have Fat Models and Thin Controllers.
</p>

        </div>
            </article>
    <nav>
        <a href="/page/53">Newer Posts</a><br />
        <a href="/page/55">Older Posts</a><br />
    </nav>
                </div>
                <div class="span4 sidebar">
                    <div class="well">
                        <h4>@TheKeyboard <small>The ramblings of a grumpy programmer</small></h4>
                    </div>
                    <div class="well sidebar-nav">
                        <h4>Links</h4>
                        <ul class="nav">
                            <li><a href="http://sculpin.io">sculpin.io</a></li>
                            <li><a href="http://twitter.com/getsculpin">@getsculpin</a></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        <footer class="container">
            &copy; 2014 @TheKeyboard
        </footer>

        <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
        <script>window.jQuery || document.write('<script src="/components/jquery/jquery.min.js"><\/script>')</script>
        <script src="/components/bootstrap/js/bootstrap.min.js"></script>
                
                <script src="/components/highlightjs/highlight.pack.js"></script>
        <script>hljs.initHighlightingOnLoad();</script>
    </body>
</html>
