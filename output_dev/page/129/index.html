<!DOCTYPE html>
<html>
    <head>
        <title>Home &mdash; @TheKeyboard &mdash; The ramblings of a grumpy programmer</title>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link href="/components/bootstrap/css/bootstrap.min.css" rel="stylesheet" type="text/css" />
        <link href="/components/bootstrap/css/bootstrap-responsive.min.css" rel="stylesheet" type="text/css" />
        <link href="/css/style.css" rel="stylesheet" type="text/css" />
        <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
        <!--[if lt IE 9]>
            <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->
        <link rel="stylesheet" href="/components/highlightjs/styles/github.css" />
        <link rel="alternate" type="application/atom+xml" href="/atom.xml" title="@TheKeyboard activity feed" />
        <style>
        /** quick fix because bootstrap <pre> has a background-color. */
        pre code { background-color: inherit; }
        </style>
    </head>
    <body>
        <header>
            <div class="navbar navbar-inverse navbar-fixed-top">
                <div class="navbar-inner">
                    <div class="container-fluid">
                        <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                        </a>
                        <a class="brand" href="/">@TheKeyboard</a>
                        <div class="nav-collapse collapse">
                            <ul class="nav">
                                <li><a href="/blog">Posts Archive</a></li>
                                <li><a href="/blog/categories">Categories</a></li>
                                <li><a href="/blog/tags">Tags</a></li>
                                <li><a href="/about">About</a></li>
                            </ul>
                        </div><!--/.nav-collapse -->
                    </div>
                </div>
            </div>
        </header>
        <div class="mainContent container">
            <div class="row-fluid">
                <div class="span8">
                        <article>
        <header>
            <h2><a href="/_posts/2010-04-30-more-awesome-deployment-using-phing.markdown"></a></h2>
        </header>
        <div>
            <hr />

<p>layout: post</p>

<h2>title: More Awesome Deployment Using Phing</h2>

<p>In a previous blog post I showed some very basic techniques for using Phing for doing deployment.  As with any good deployment process, once you let people know that there is a flexible deployment tool other people start asking you to new things.</p>

<p>
"Hey Chris, can you set things up so that whenever someone runs one of those deployment scripts, we send an email to our support mailbox of all the files that were pushed up since the last deploy?"  After pausing for a minute to figure out how I would do it (the quick answer was "no idea") I said "Sure, I'll see what I can do."
</p>

<p>
So I stood in front of my whiteboard and proceeded to sketch out an idea of how I would want to do such a thing.  Luckily I could cheat and look at how Capistrano did it.  Because the way that they do it makes so much sense, so I duplicated it quick-and-dirty style.  A big thanks goes out to my friend <a href="http://www.derekmartin.ca/">Derek</a> for pointing me in the right direction.
</p>

<p>
So, the way to make this happen is as follows:
<ol>
<li>Read in a file inside your current deployment that contains the date of your last deployment</li>
<li>Check your code out of your version control system into <app ROOT>/releases/<date format></date></app></li>
<li>Symlink <app ROOT>/releases/<date format> to <app ROOT>/current</app></date></app></li>
<li>Write a file into <app ROOT>/current that contains the date of the last deploy.
</app></li></ol>
</p>

<p>Here's what it looks like as a Phing script</p>

<pre><code>&lt;?xml version="1.0"?&gt;                                                                               
&lt;project name="build" default="main"&gt;
    &lt;property name="exportdir"  value="/var/www/app" /&gt;
    &lt;property name="svnpath" value="/usr/bin/svn" /&gt;
    &lt;property name="repo" value="svn+ssh://path/to/repo" /&gt;
    &lt;tstamp&gt;
        &lt;format property="build.time" pattern="%Y%m%d%H%I%S" /&gt;
        &lt;format property="newdeploy.date" pattern="%Y-%m-%d %H:%I:%S" /&gt;
    &lt;/tstamp&gt;
    &lt;property file="${exportdir}/current/deploy.properties" /&gt;
    &lt;target name="main" depends="svnexport"&gt;
        &lt;exec command="rm -f ${exportdir}/current" escape="false" /&gt;
        &lt;exec command="ln -s ${exportdir}/releases/${build.time} ${exportdir}/current" escape="false" /&gt;
        &lt;exec command="chmod -R 777 ${exportdir}/current/tmp" escape="false" /&gt;
        &lt;exec command="chown -R scriptkiddie:company ${exportdir}/current" escape="false" /&gt;
        &lt;exec command="chmod -R ug+rw ${exportdir}/current" escape="false" /&gt;
        &lt;exec command="echo 'deploy.date=${newdeploy.date}' &gt;&gt; ${exportdir}/current/deploy.properties" /&gt;
        &lt;exec command="svn log -r '{${deploy.date}}':'{${newdeploy.date}}' ${repo} | mail -s 'Deployment Of FizzBuzz in production' support@fizzbuzz" /&gt;
    &lt;/exec&gt;&lt;/target&gt;
    &lt;target name="svnexport"&gt;
        &lt;svnexport svnpath="${svnpath}"
            username="${username}"
            password="${password}"
            nocache="true"
            repositoryurl="${repo}"
            todir="${exportdir}/releases/${build.time}"/&gt;
    &lt;/target&gt;
&lt;/project&gt;
</code></pre>

<p>The key was figuring out the best way to send SVN log information via email.  Leave it to the UNIX way of piping output to provide with the best solution totally within Phing.
</p>

        </div>
            </article>
    <article>
        <header>
            <h2><a href="/_posts/2010-05-17-off-to-tek-x.markdown"></a></h2>
        </header>
        <div>
            <hr />

<p>layout: post</p>

<h2>title: Off to TEK-X</h2>

<p>Tomorrow (May 18) I throw all my junk in the trunk of my trusty steed (a 2000 Ford Taurus that loves to chew up the highway miles) and hit the road for Chicago for <a href="http://tek.phparch.com">TEK-X</a>, the 10th edition of this conference.  I have spoken at previous editions (is that the correct word?) of this conference and I'll be honest:  I'm a bit bummed that I'm not speaking.
</p>

<p>See, I normally only go to conferences when I speak.  Why?  Being away from the family is tough to arrange when you work from home.  I've got two little girls, and they are used to Daddy being around to help out with stuff.  Like taking them to day care, or picking them up from school.  Making dinner.  Helping with school lunches.  Grocery shopping.  I'm sure you get the picture.  So to abandon the family to go to a conference requires lots of logistical work.</p>

<p>
But damnit, I hadn't been to a conference since March of last year (the old PHP Quebec conference) I was determined not to get shut out.  Luckily my boss agreed to foot the bill and so off I go.  I'd love to meet any of my readers, and even sign paper copies of my <a href="http://www.litttlehart.net/book">book</a> if you got a print-on-demand version.  Hell, I don't even have one. ;)  So don't be intimidated by my size, appearance, or lack of knowledge on certain topics.  Come and say hi.  I'll the big, bald, grumpy Canadian with a pot-scrubber on his chin stomping around the conference.
</p>

<p>
Anyway, I wanted to talk about the sessions I'm looking forward to seeing.  In no particular order, here they are:
<h3>Building Real-Time Applications with XMPP</h3>
</p>

<p>
I've known <a href=http://twitter.com/tswicegood>Travis</a> for a while through the PHP community, and never seen him do a presentation.  However, his numerous IM sessions helping me understand decorators in the context of Django and talking me through fixing totally busted Git commits lead me to one conclusion:  he knows his shit so I should pay attention to what he has to say.  The building of our next-gen fantasy sports gaming platform starts when I get back so I'm hoping he imparts some pearls of wisdom.
</p>

<h3>Continuous Inspection and Integration of PHP Projects</h3>

<p>
Being the only guy working on projects gets frustrating:  nobody to share ideas with and also very hard to make the case for the types of tools and procedures that the TDD/BDD and continuous integration crowd advocates.  I mean, all this work so Chris stops complaining about bugs slipping through the QA cycle?   Besides, I always have a soft-spot for Ze Germans who are always at the PHP conferences. 
</p>

<h3>Graphs, Edges & Nodes: Untangling the Social Web</h3>

<p>
I first met the presenter (Joel Perras) at PHP Quebec last year through the CakePHP community.  Now that he's moved on to the <a href="http://lithify.me/">Lithium</a> project, I see his ego has grown to the point where he is okay giving presentations.  Don't worry whippersnapper, I'll cut you down to size during this (probably awesome because it deals with stats and nodes and graphs and all this cool stuff I've been reading in "Programming Collective Intelligence") talk.
</p>

<p>
Now, I'm sure that I will be attending other sessions while I'm there.  But those are the main ones I'm looking forward to seeing.  We are spoiled for choice at this conference, and I am definitely looking forward to seeing old friends and making some new ones.
</p>

        </div>
            </article>
    <article>
        <header>
            <h2><a href="/_posts/2010-05-26-its-the-community-stupid.markdown"></a></h2>
        </header>
        <div>
            <hr />

<p>layout: post</p>

<h2>title: It's The Community, Stupid</h2>

<p>I had an awesome time at <a href="http://tek.phparch.com/">Tek-X</a> in Chicago last week.  It was worth the 8 hour drive to get to Chicago from my basement lair.  Of course, it helped that the wait at the border was under 10 minutes both times.  There were good talks, but even better *people*.
</p>

<p>
A programming language is only as good as the community that supports.  By supporting it, I mean willing to get together several times a year for conferences and bust their asses to have people share interesting talks with everyone else.   Look at Python and Ruby.  Awesome languages to work with.  But even more awesome are the conferences that serve as anchors for the community.</p>

<p>There seems to be lots of little regional Ruby conferences, which give the language itself a unique flavour in return.  Of course, it helps that Ruby can be used quite easily outside the traditional web application building environment.  I don't see so many regional Python conferences, just PyCon and DjangoCon both in the US and over in Europe.  It could be that I'm not looking hard enough.</p>

<p>
As for PHP, to be fair, it shows up at pretty much any open source web-related conference.  OS Bridge. OSCON.  Codemash.  I could go on, but I am not in the conference-promotion business.  I mean, why is there no Great Canadian PHP Conference?  I know there was phpworks in Toronto back in the mid 2000's.  It was my first conference I ever went to.  But I'll tell you why there is no Great Canadian PHP Conference:  there is no PHP community in Toronto.
</p>

<p>
Oh sure, there are tons of PHP jobs to be had in Toronto.  Lots of code monkey positions to be filled.  But the Toronto PHP User's group has been dormant since last year.  I sent an email to the organizer telling him I wanted to help out at least 3 days ago.  Haven't heard a damn thing back.  Perhaps it is time to go around such a person and just do it myself.
</p>

<p>
See, without the PHP community I do not have a career.  Once I took the plunge, submitted a talk, and got accepted (I gave a talk about what the PHP community could learn from Ruby on Rails) I found I had suddenly joined the PHP *community*.  Instantly I had people asking me questions AND people willing to answer my questions.  Like I was their long-lost buddy.  That was an awesome feeling, let me tell you.  But even more important were the people I met.
</p>

<p>
As a result of the community, I have found myself in the awesome position that every time I needed a job, it took less than a week to get one.  It was a combination of my blogging and my work in making those connections in the community that put me in this position, but it is sure a nice feeling to be able to convince your nervous wife that we were not about to face a rough patch while I struggled to find work.  So it's a no-brainer for me to continue to submit talks to conferences and try to attend even when I don't speak.  It's about giving something back to the community that has helped me grow my career.  
</p>

<p>
So don't just *use* your language of choice.  Try and become part of that community.  Doesn't matter if it's Python, Ruby, or good-old-solved-the-web-problem-first PHP.  You'd be surprised what doors are opened up by your participation.
</p>

        </div>
            </article>
    <nav>
        <a href="/page/128">Newer Posts</a><br />
        <a href="/page/130">Older Posts</a><br />
    </nav>
                </div>
                <div class="span4 sidebar">
                    <div class="well">
                        <h4>@TheKeyboard <small>The ramblings of a grumpy programmer</small></h4>
                    </div>
                    <div class="well sidebar-nav">
                        <h4>Links</h4>
                        <ul class="nav">
                            <li><a href="http://sculpin.io">sculpin.io</a></li>
                            <li><a href="http://twitter.com/getsculpin">@getsculpin</a></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        <footer class="container">
            &copy; 2014 @TheKeyboard
        </footer>

        <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
        <script>window.jQuery || document.write('<script src="/components/jquery/jquery.min.js"><\/script>')</script>
        <script src="/components/bootstrap/js/bootstrap.min.js"></script>
                
                <script src="/components/highlightjs/highlight.pack.js"></script>
        <script>hljs.initHighlightingOnLoad();</script>
    </body>
</html>
