<!DOCTYPE html>
<html>
    <head>
        <title>Home &mdash; @TheKeyboard &mdash; The ramblings of a grumpy programmer</title>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link href="/components/bootstrap/css/bootstrap.min.css" rel="stylesheet" type="text/css" />
        <link href="/components/bootstrap/css/bootstrap-responsive.min.css" rel="stylesheet" type="text/css" />
        <link href="/css/style.css" rel="stylesheet" type="text/css" />
        <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
        <!--[if lt IE 9]>
            <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->
        <link rel="stylesheet" href="/components/highlightjs/styles/github.css" />
        <link rel="alternate" type="application/atom+xml" href="/atom.xml" title="@TheKeyboard activity feed" />
        <style>
        /** quick fix because bootstrap <pre> has a background-color. */
        pre code { background-color: inherit; }
        </style>
    </head>
    <body>
        <header>
            <div class="navbar navbar-inverse navbar-fixed-top">
                <div class="navbar-inner">
                    <div class="container-fluid">
                        <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                        </a>
                        <a class="brand" href="/">@TheKeyboard</a>
                        <div class="nav-collapse collapse">
                            <ul class="nav">
                                <li><a href="/blog">Posts Archive</a></li>
                                <li><a href="/blog/categories">Categories</a></li>
                                <li><a href="/blog/tags">Tags</a></li>
                                <li><a href="/about">About</a></li>
                            </ul>
                        </div><!--/.nav-collapse -->
                    </div>
                </div>
            </div>
        </header>
        <div class="mainContent container">
            <div class="row-fluid">
                <div class="span8">
                        <article>
        <header>
            <h2><a href="/_posts/2007-10-26-babysteps-with-xquery.markdown"></a></h2>
        </header>
        <div>
            <hr />

<p>layout: post</p>

<h2>title: Babysteps with xQuery</h2>

<p>I know what you're thinking:  "Chris, aren't you supposed to be talking about CakePHP, or PHP, or your ever-changing working conditions?!?".  Alas, enough about my storied working career.  Working <a href="http://www.xmlteam.com">here</a> now means that I'm going to become Mr. "I know how to manipulate XML" in a hurry.  Lucky for me, I can use PHP 5 and have access to SimpleXML to make fooling around with raw XML (is that actually a term?) so much easier.  I remember working with <a href="http://www.sportsticker.com">PA Sportsticker</a> XML feeds and having to write code to parse stuff out in PHP 4.  Compare that to using SimpleXML in PHP 5.  Go ahead, I'll wait while you go and look it up.</p>

<p>
So, for a project I'm working on (no names until it goes beta) I'm having to write and retrieve information from an XML document repository system (<a href='http://www.caucho.com/resin-3.1/'>Resin</a>  + <a href='http://exist.sourceforge.net/'>eXist</a>).  Now, I'm not too bad with database stuff but this system doesn't use SQL.  It uses something called <a href="http://www.w3.org/TR/xquery/">XQuery</a> to retrieve information.  I can pull back XML snippets, whole XML documents, or just extract data from it.  On the storing side, you can simply insert whole XML documents into it and then eXist takes care of indexing etc so you can look for information inside those documents.</p>

<p>
Lucky for me, my company has a subscription to O'Reilly's <a href="http://safari.oreilly.com">Safari</a> system so I grabbed 'XQuery Kick Start' and started reading up on how xQuery works and how I can cheat and only learn what I needed to do for this first task. So, what I had to do was this:
<blockquote>
Give me all games that belong to this league
</blockquote>
So, I had the key for the league, and every document that was a game has the key for the league as an attribute.  Now, if I was doing SQL you'd have something like:
<code>
SELECT * FROM games WHERE league_id = $leagueKey
</code>
and then you iterate through the results like normal.  Let me tell you, xQuery is VERY different.  <a href="http://bin.cakephp.org/saved/24839" target="new">Here's what it looked like</a>.  My apologies for the link to the saved paste but it was looking terrible in preview. :)
</p>

<p>Wow, not too intuitive at first glance, is it.  Anyway, here's what the output looked like:
<code>
2007-10-25 01:00:00AM|Monrovia Madness|Monrovia Madness,
2007-10-26 04:00:00AM|Monrovia Madness|Monrovia Madness,
</code>
Note the extra ',' at the end.  I'll have to figure out how to stop it from doing that so I don't have to do any code workarounds based on the output.  Sorry for the ultra-boring and non-informative test data, but you gotta start somewhere.  Now, the syntax does actually make a little bit of sense to me now that I've had the chance to muddle through from where I started.  I'll keep you posted as I get into some more-than-basic uses of xQuery.
</p>

        </div>
            </article>
    <article>
        <header>
            <h2><a href="/_posts/2007-10-31-more-fun-with-capistrano-and-php-applications.markdown"></a></h2>
        </header>
        <div>
            <hr />

<p>layout: post
title: More Fun With Capistrano and PHP Applications
author: Chris Hartjes</p>

<h2>date: 2007-10-31</h2>

<p>
So, I need to deploy changes to a work-related project from my laptop to a dev server.  I was told that one of our other developers had a solution using shell scripts, but I couldn't figure out a problem with it and didn't want to hack away at his scripts in case I broke something he was depending on.  So, I figured it was time to go back to Capistrano and simply hack my deploy script I had used <a href="http://www.littlehart.net/atthekeyboard/2007/09/21/deploying-cakephp-applications-using-capistrano/">for another deployment</a> to fit this circumstance.</p>

<p>
So, off I went hacking away at it and testing it.  Then I discovered something:  I need to be able to send a password for both running some commands on the remote server and for checking some stuff out of a <a href="http://en.wikipedia.org/wiki/Subversion_%28software%29">SVN</a> repository.  So, I did some googling and here's what I came up with:<br />
~~~
task :deploy do
     run "sudo cp -r #{deploy_to} #{deploy_to}-old" do |ch, stream, out|
          ch.send_data "#{sudo_password}\n" if out =~ /Password:/
     end

     run "sudo svn --quiet --force #{checkout} #{repository} #{deploy_to} do |ch, stream, out|
          ch.send_data "#{svn_password}\n" if out =~ /.xmlteam.com's password:/
     end
end

task :rollback do
     run "sudo mv -r #{deploy_to}-old #{deploy_to}" do |ch, stream, out|
          ch.send_data "#{sudo_password}\n" if out =~ /Password:/
     end
end
~~~
</p>

<p>
All those #{...} values are simply variables I defined in the recipe file.  You don't actually expect me to tell you what my passwords are for access to various machines, do you? :)  I remember how difficult this stuff was to do in previous versions of Capistrano, requiring all sorts of hacks to make it deploy non-Rails applications but they removed that dependency with Capistrano 2.0, thus making it possible to use Capistrano with ANY project, not just a Rails one.  Although you can use a lot of built-in magic if you use Capistrano to deploy a Rails project.</p>

<p>Now that I know how easy it is to pass data to the remote server, I can actually envision some fairly complicated deployment scripts.  Hope this helps out other people who've come here and read my other post about using Capistrano to deploy their CakePHP projects.</p>

        </div>
            </article>
    <article>
        <header>
            <h2><a href="/_posts/2007-11-02-10-days-later-early-impressions-of-cakephp-vs-codeigniter.markdown"></a></h2>
        </header>
        <div>
            <hr />

<p>layout: post
title: "10 Days Later:  Early Impressions of CakePHP vs. CodeIgniter"
date: 2007-11-02</p>

<h2>author: Chris Hartjes</h2>

<p>
As loyal readers to my blog know, my <a href="http://www.xmlteam.com">employer</a> has committed to using <a href="http://codeigniter.com">CodeIgniter</a> for projects, although I hold out hope that new projects with my beloved <a href="http://www.cakephp.org">CakePHP</a>.  That's okay, I'm a big boy and can handle working with different things as clients (and bosses) demand.  So, after maybe a week and a bit of working with CodeIgniter I thought I'd talk about it.</p>

<p>
<b>Once you know one MVC framework, you know them all</b>.  My experience with CakePHP and <a href="http://framework.zend.com">Zend Framework</a> means that understanding how CodeIgniter works in the context of MVC is simple.</p>

<p><b>CodeIgniter mixes OOP and functions</b>.  CakePHP has a much, much stronger commitment to using objects to access core functionality.  A quick example is this is the way both frameworks handle forms in the views.
~~~
// CakePHP
echo $form->create(...);
echo $form->input(...);
echo $form->select(...);
echo $form->submit(...);
echo $form->end();

// CodeIgniter
echo form_create(...);
echo form_input(...);
echo form_dropdown(...);
echo form_submit(...);
echo form_close();
~~~
But within the controllers you are calling methods of objects to do things.
~~~
$data = $this->defaultdata();
$this->load->model('Leagues');
$lookupResults = $this->Leagues->getLeagues();
$data['lookupResults'] = $lookupResults;
$data['mainview'] = 'league_browse';
$this->load->vars($data);
$this->load->view($data['layout']);
~~~
Now, take this with a grain of salt because I am inheriting other people's code here so this might not be 'CodeIgniter best practices' but I think a little consistency would go a long way in the decision to use either functions or objects.
</p>

<p>
<b>Lack of conventions makes Chris sad</b>.  I am very used to CakePHP's habit of just knowing where things are supposed to be instead of me having to specify everything.  Yes, I understand that CodeIgniter is all about doing it your way, but I've grown to like the CakePHP way.  I like that my actions in the controller know where to find the view...as long as I've followed the conventions.</p>

<p>
<b>CodeIgniter's User Guide Is Awesome</b>.  Logical groupings, cool Web 2.0 features when you click on the table of contents.  Yes, we finally have some <a href="http://tempdoc.cakephp.org">documentation for CakePHP 1.2 available</a> but it is 'alpha with extreme prejudice' in it's current form.  I'm not saying CakePHP should copy what CodeIgniter is done.  I'm sure there will be an awesome final place for the CakePHP 1.2 documentation.  But for someone starting out with CodeIgniter, the user guide is an essential tool.</p>

<p>
<b>No built-in associative data mapping makes Chris sad</b>.  But then again, I'm not really having to deal with much in the way of databases on this current project due to us using eXist.</p>

<p>
So, there you have it.  A very, very early look at my thoughts on CakePHP vs. CodeIgniter.  I'll post the more interesting things I come across along the way as my current project gets built out more...</p>

        </div>
            </article>
    <nav>
        <a href="/page/68">Newer Posts</a><br />
        <a href="/page/70">Older Posts</a><br />
    </nav>
                </div>
                <div class="span4 sidebar">
                    <div class="well">
                        <h4>@TheKeyboard <small>The ramblings of a grumpy programmer</small></h4>
                    </div>
                    <div class="well sidebar-nav">
                        <h4>Links</h4>
                        <ul class="nav">
                            <li><a href="http://sculpin.io">sculpin.io</a></li>
                            <li><a href="http://twitter.com/getsculpin">@getsculpin</a></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        <footer class="container">
            &copy; 2014 @TheKeyboard
        </footer>

        <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
        <script>window.jQuery || document.write('<script src="/components/jquery/jquery.min.js"><\/script>')</script>
        <script src="/components/bootstrap/js/bootstrap.min.js"></script>
                
                <script src="/components/highlightjs/highlight.pack.js"></script>
        <script>hljs.initHighlightingOnLoad();</script>
    </body>
</html>
