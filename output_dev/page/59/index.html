<!DOCTYPE html>
<html>
    <head>
        <title>Home &mdash; @TheKeyboard &mdash; The ramblings of a grumpy programmer</title>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link href="/components/bootstrap/css/bootstrap.min.css" rel="stylesheet" type="text/css" />
        <link href="/components/bootstrap/css/bootstrap-responsive.min.css" rel="stylesheet" type="text/css" />
        <link href="/css/style.css" rel="stylesheet" type="text/css" />
        <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
        <!--[if lt IE 9]>
            <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->
        <link rel="stylesheet" href="/components/highlightjs/styles/github.css" />
        <link rel="alternate" type="application/atom+xml" href="/atom.xml" title="@TheKeyboard activity feed" />
        <style>
        /** quick fix because bootstrap <pre> has a background-color. */
        pre code { background-color: inherit; }
        </style>
    </head>
    <body>
        <header>
            <div class="navbar navbar-inverse navbar-fixed-top">
                <div class="navbar-inner">
                    <div class="container-fluid">
                        <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                        </a>
                        <a class="brand" href="/">@TheKeyboard</a>
                        <div class="nav-collapse collapse">
                            <ul class="nav">
                                <li><a href="/blog">Posts Archive</a></li>
                                <li><a href="/blog/categories">Categories</a></li>
                                <li><a href="/blog/tags">Tags</a></li>
                                <li><a href="/about">About</a></li>
                            </ul>
                        </div><!--/.nav-collapse -->
                    </div>
                </div>
            </div>
        </header>
        <div class="mainContent container">
            <div class="row-fluid">
                <div class="span8">
                        <article>
        <header>
            <h2><a href="/_posts/2007-06-22-whats-in-chris-brain-june-2007-edition.markdown"></a></h2>
        </header>
        <div>
            <hr />

<p>layout: post</p>

<h2>title: What's In Chris' Brain - June 2007 Edition</h2>

<p>Well, it's certainly been a very eventful month for your not-so-humble blogger.  Here's what's been ratling around in my brain lately:
<ul>
<li>Finally sent over my contribution to <a href="http://devzone.zend.com/tag/PHP_Abstract">PHP Abstract</a>, the podcast sponsored by Zend and put together by Cal Evans.  I'll be talking about "Opinionated Software" on a future edition of the podcast.  My wife said it was a perfect topic because I'm such an opinionated person.</li>
<li>What stops more people from adopting lightweight web servers like <a href="http://www.lighttpd.net">lighttpd</a> and my current favourite <a href="http://nginx.net">nginx</a> for their PHP setup?  I used to think that mod_php was all that and a bag of chips, but running things via FastCGI seems to be providing me with the kind of performance I like.  I wonder if anyone has done a comparison on how to scale out a PHP site that use php-cgi?</li>
<li>Rallyhat will definitely be a Python site, and I'll be building it with <a href="http://www.djangoproject.com">Django</a>.  As my friend <a href="http://lazyweb.ca">Kevin</a> pointed out:  "It's almost like programming in a DSL thanks to all those magic methods in Rails and Django."</li>
<li>Until gwoo and PhpNut from <a href="http://www.cakephp.org">CakePHP</a> showed me how to get the most of out using <a href="http://cakebaker.42dh.com/tags/bake/">Bake</a> I never understood why it's such a useful tool.  For a current project I've been using bake to build out all sorts of functionality in a fraction of the time it used to take me.  If you do stuff with CakePHP, do yourself a favour and learn how to use bake.</li>
<li>I discovered that I can actually be more productive using vim as my editor for all my PHP work.  Go check out <a href="http://www.gravitonic.com/talks/">Andrei Zmievski's talk on using vim with PHP.</a> Don't fear the command line you OS-X and Linux types!  I never thought I'd like using vim but I've learned to work with it.</li>
<li>I should be getting my new MacBook Pro in the first week of July.  Of all things I miss the most having to work on my 8 year-old PC at home (I'm running Ubuntu Feisty Fawn with E17 as the window manager) I miss <a href="http://quicksilver.blacktree.com/">Quicksilver</a>.  I still find myself typing Ctrl-Space to bring up the program loader.  If you use OS-X check it out.  Once you start using it you'll wonder why you didn't use it before.</li>
</ul>
</p>

        </div>
            </article>
    <article>
        <header>
            <h2><a href="/_posts/2007-06-26-testing-components-in-cakephp.markdown"></a></h2>
        </header>
        <div>
            <hr />

<p>layout: post
title: Testing Components In CakePHP
date: 2007-06-26</p>

<h2>author: Chris Hartjes</h2>

<p>Since I was moaning to Larry about the lack of tests in CakePHP (even though there is a great test suite based on Simpletest) I felt obliged to add in some tests to my work on adding functionality to the Email component to allow it to send things via SMTP.</p>

<p>Using the test suite is actually quite easy:  drop <a href="http://www.lastcraft.com/simple_test.php">SimpleTest</a> into your cake/vendors directly and you're ready to start writing your tests.  Having written tests using SimpleTest before it wasn't going to be too hard for me to get them done.  But there was one little problem:  how do you test a component?</p>

<p>
Components are called via controllers, so there was no way for me to simply instantiate the component and test it out.  After much back-and-forth with Larry (aka PhpNut) via IM I got it working.
<br />
~~~
require_once LIBS . '/controller/components/email.php';

class EmailTestController extends Controller {
    var $name = 'EmailTest';
    var $uses = null;
    var $components = array('Email');
}

class EmailTest extends CakeTestCase {
    var $name = 'Email';

    function setUp() {
        $this->Controller =& new EmailTestController();

        restore_error_handler();
        @$this->Controller->_initComponents();
        set_error_handler('simpleTestErrorHandler');

        $this->Controller->Email->startup($this->Controller);
        ClassRegistry::addObject('view', new View($this->Controller));
    }

    function testSmtpSend() {
        $this->Controller->Email->to = 'chartjes@localhost';
        $this->Controller->Email->subject = 'Cake SMTP test';
        $this->Controller->Email->replyTo = 'noreply@example.com';
        $this->Controller->Email->from = 'noreply@example.com';
        $this->Controller->Email->delivery = 'smtp';
        $this->Controller->Email->template = null;
        $this->assertTrue($this->Controller->Email->send("This is the body of the message"));
    }

}
?>
~~~
</p>

<p>
The trick ended up being me not knowing to create an instantiation of the controller and then telling it to initialize all components.  Before I was doig that I woudl get all sorts of controller-related errors.  The internals of CakePHP are slowly being revealed to me, which is a good thing because working for <a href="http://www.cakedevelopment.com">CDC</a> pretty much guarantees I will need to understand them inside and out.
</p>

<p>
I know that testing isn't very glamourous but can you imagine how to debug an Email compnent that sends out email on a specific TCP port without a repeatable unit test?  Me neither.
</p>

        </div>
            </article>
    <article>
        <header>
            <h2><a href="/_posts/2007-07-03-what-do-you-do-when-there-is-no-documentation.markdown"></a></h2>
        </header>
        <div>
            <hr />

<p>layout: post</p>

<h2>title: What Do You Do When There Is No Documentation?</h2>

<p>One of the most common complaints currently leveled at the CakePHP project is that "there is no documentation for version 1.2".  What people really mean is that there is no one central place where people who want to use the latest version can find documentation.  There are examples in <a href="http://bakery.cakephp.org">the bakery</a> and in threads on the mailing list.  Really gutsy developers can look at the <a href="http://api.cakephp.org/1.2/">API for version 1.2</a> or dive into the source themselves.</p>

<p>
Now, a decision was made that there would be no manual released for 1.2 until 1.2 is declared stable (or maybe the API's won't change).  Luckily you can look at an <a href="https://cakeforge.org/plugins/scmsvn/viewcvs.php/*checkout*/sandbox/1.2/1point2.pdf?rev=155&root=cakedocs">alpha version</a> of the documentation as well.  I suspect that not too many people know that you can find this information and simply assume that there is none available.
</p>

<p>
So, what *do* you do when there is little or no documentation?  I'm running into this because I'm trying to use a brand-new component for authorization and access control called (oddly enough) Auth.  It's very useful...but there is no documentation existing for it.  I have access to a soon-to-be-published article about it (thanks Nate!) but it's not giving me enough to go on.  I'm left to call in other favours and get access to the source code of some other apps to see how they are using the Auth component, but some of those examples aren't working for me.  *sigh*.
</p>

<p>
So, I ask you, lazyweb style, how do YOU deal with a lack of documentation for a programming component that you want to use?</p>

        </div>
            </article>
    <nav>
        <a href="/page/58">Newer Posts</a><br />
        <a href="/page/60">Older Posts</a><br />
    </nav>
                </div>
                <div class="span4 sidebar">
                    <div class="well">
                        <h4>@TheKeyboard <small>The ramblings of a grumpy programmer</small></h4>
                    </div>
                    <div class="well sidebar-nav">
                        <h4>Links</h4>
                        <ul class="nav">
                            <li><a href="http://sculpin.io">sculpin.io</a></li>
                            <li><a href="http://twitter.com/getsculpin">@getsculpin</a></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        <footer class="container">
            &copy; 2014 @TheKeyboard
        </footer>

        <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
        <script>window.jQuery || document.write('<script src="/components/jquery/jquery.min.js"><\/script>')</script>
        <script src="/components/bootstrap/js/bootstrap.min.js"></script>
                
                <script src="/components/highlightjs/highlight.pack.js"></script>
        <script>hljs.initHighlightingOnLoad();</script>
    </body>
</html>
