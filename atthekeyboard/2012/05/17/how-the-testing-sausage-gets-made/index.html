<!DOCTYPE html>
<html>
    <head>
        <title>How The Testing Sausage Gets Made &mdash; @TheKeyboard &mdash; The ramblings of a grumpy programmer</title>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link href="/components/bootstrap/css/bootstrap.min.css" rel="stylesheet" type="text/css" />
        <link href="/components/bootstrap/css/bootstrap-responsive.min.css" rel="stylesheet" type="text/css" />
        <link href="/css/style.css" rel="stylesheet" type="text/css" />
        <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
        <!--[if lt IE 9]>
            <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->
        <link rel="stylesheet" href="/components/highlightjs/styles/github.css" />
        <link rel="alternate" type="application/atom+xml" href="/atom.xml" title="@TheKeyboard activity feed" />
        <link href="https://vjs.zencdn.net/5.5.3/video-js.css" rel="stylesheet">
        <script src="https://vjs.zencdn.net/ie8/1.1.1/videojs-ie8.min.js"></script>
        <style>
        /** quick fix because bootstrap <pre> has a background-color. */
        pre code { background-color: inherit; }
        </style>
    </head>
    <body>
        <header>
            <div class="navbar navbar-inverse navbar-fixed-top">
                <div class="navbar-inner">
                    <div class="container-fluid">
                        <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                        </a>
                        <a class="brand" href="/">@TheKeyboard</a>
                        <div class="nav-collapse collapse">
                            <ul class="nav">
                                <li><a href="/blog">Posts Archive</a></li>
                                <li><a href="/about">About</a></li>
                                <li><a href="/atom.xml">RSS/Atom</a></li>
                            </ul>
                        </div><!--/.nav-collapse -->
                    </div>
                </div>
            </div>
        </header>
        <div class="mainContent container">
            <div class="row-fluid">
                <div class="span8">
                        <article>
        <header>
            <h2>How The Testing Sausage Gets Made <small>post</small></h2>
            <h3>May 17th, 2012</h3>
        </header>
        <div>
            <p>So how does the Grumpy Programmer write code, TDD style? It starts with 
using a set of tools that reduce the amount of friction required.</p>

<p>First, I do almost all my work from a terminal. On my Macbook I use
<a href="http://www.iterm2.com/#/section/home">iTerm 2</a> instead of the stock
Terminal.app. Until recently you could not get 256 colours without
some external hacking and since I like my editor to have purty colours
I needed a terminal to match it. I might take a look at Terminal.app
again, but iTerm 2 fits the bill.</p>

<p>Why the terminal? PHPUnit is a CLI application. Yes, many popular
editors and IDE's can do things like execute PHPUnit for you, but they
are limited in what flexibility they provide. At Kaplan we have several
different configurations under which we can run our tests. Again, reduce
the friction between the tools and you using them.</p>

<p>Then we have the <a href="http://www.vim.org">One True Editor</a>. While I do use
other editors from time to time (I do like <a href="http://www.sublimetext.com/2">Sublime Text 2</a> 
a lot because it has Vim bindings), I stick with Vim. Why? The plugins.</p>

<p>Here's what I use:</p>

<ul>
<li><a href="https://github.com/tpope/vim-pathogen">Pathogen</a> to make loading other plugins easy</li>
<li><a href="http://www.vim.org/scripts/script.php?script_id=102">DiffDir</a> for making code review and test reviews easier</li>
<li><a href="http://www.vim.org/scripts/script.php?script_id=2423">Gist.vim</a></li>
<li><a href="http://www.vim.org/scripts/script.php?script_id=13">closetag</a></li>
<li><a href="https://github.com/AndrewRadev/inline_edit.vim">inline_edit.vim</a></li>
<li><a href="https://github.com/scrooloose/nerdtree">nerdtree</a></li>
<li><a href="https://github.com/ervandew/supertab">supertab</a></li>
<li><a href="https://github.com/vim-scripts/surround.vim">surround.vim</a> - it has ruined me for using other editors</li>
<li><a href="http://vimcasts.org/episodes/aligning-text-with-tabular-vim/">Tabular.vim</a></li>
<li><a href="https://github.com/majutsushi/tagbar">tagbar</a> - INDISPENSABLE</li>
<li><a href="https://github.com/tpope/vim-repeat">vim-repeat</a></li>
<li><a href="https://github.com/thisivan/vim-taglist">vim-taglist</a></li>
<li><a href="https://github.com/tpope/vim-unimpaired">vim-unimpaired</a></li>
</ul>

<p>There is nothing specific to doing TDD in these plugins, but what they
do for me is allow me to slice and dice text as quickly as possible, along
with providing me with easy ways to navigate through the code base. Remember,
reducing friction is a big thing to me. If the tool makes it tough for me
to do what I want, it will be the target of grumpy ranting.</p>

<p>One of the reasons I like Sublime Text 2 is that you can jump all over the
place in the code base in similar ways. If you editor doesn't allow you to
do that, you need to get rid of that editor and use something that does.
NO EXCUSES.</p>

<p>A typical coding session has me using two terminal windows. One has Vim running
in it, the other is used to run PHPUnit or other testing framework of choice as
I venture in the world of BDD and testing in other languages. Then I do the 
following:</p>

<ul>
<li>figure out HOW to test the code I'm writing</li>
<li>write the tests required</li>
<li>write code until the tests pass</li>
<li>refactor code as required</li>
<li>refactor tests as required.</li>
</ul>

<p>That's really all their is to it. The actual work flow of when you are using
TDD isn't magical. I will admit that experience is the only teacher for how
to actually write the tests, but luckily I have an awesome <a href="https://twitter.com/FreshWillisms">co-worker</a>
who bellows obscenities at me while guiding me down the path to total testing
mastery. I know Will, you only hate me because you love me.</p>

<p>Every time I make a change to a test or the code, I re-run the tests. I find that
this lets me get more done while actually slowing down the pace. You end up
more focussed on the bit of code that really needs your attention, instead of
getting drawn into blind alleys.</p>

<p>I also frequently run code-coverage reports to make sure that I'm getting
maximum coverage for my efforts, while ignoring writing tests specifically
for methods with very low CRAP indexes. Again, I'm making sure that I am
targeting the parts of my code that need to be tested.</p>

<p>I know I've written about this before, but when you approach things from a
TDD perspective, you find that using things like dependency injection
become second nature.</p>

<p>If there is a lesson to be learned from this, it's to make sure that every
tool that you use reduces the friction that is generated when building
your application using TDD.</p>

        </div>
                
                    <nav class="article">
                <ul>
                                            <li>Next: <a class="next" href="/atthekeyboard/2012/05/31/tricorder-a-testing-helper-for-php/" title="Tricorder: a testing helper for PHP"><span class="title">Tricorder: a testing helper for PHP</span></a></li>
                                                                <li>Previous: <a class="previous" href="/atthekeyboard/2012/05/16/test-all-the-things/" title="Test All The Things?"><span class="title">Test All The Things?</span></a></li>
                                    </ul>
            </nav>
            </article>
                </div>
                <div class="span4 sidebar">
                    <div class="well">
                        <h4>@TheKeyboard <small>The ramblings of a grumpy programmer</small></h4>
                    </div>
                    <div class="well sidebar-nav">
                        <section>
                            <h3>Find stuff</h3>
                            <script>
                              (function() {
                                var cx = '010269902375244482518:ddxhg1qhod4';
                                var gcse = document.createElement('script');
                                gcse.type = 'text/javascript';
                                gcse.async = true;
                                gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') +
                                    '//www.google.com/cse/cse.js?cx=' + cx;
                                var s = document.getElementsByTagName('script')[0];
                                s.parentNode.insertBefore(gcse, s);
                              })();
                            </script>
                            <gcse:searchbox-only></gcse:searchbox-only>
                        </section>
                        <section>
                            <h3>Contact me</h3>
                            <ul>
                                <li>Email me at chartjes@grumpy-learning.com</li>
                                <li>Find me on Twitter as <a href="https://twitter.com/grmpyprogrammer">@grmpyprogrammer</a></li>
                            </ul>
                        </section>
			<section>
				<h3>Sponsor me</h3>
				<p>If you like the work I do on <a href="https://github.com/opencfp/opencfp/">OpenCFP</a> you can become a
				sponsor via my <a href="https://github.com/sponsors/chartjes">GitHub sponsors</a> page. Your sponsorship
				allows me to spend more time on open source and less time writing books and training material.</p>
			</section>
                        <section>
                            <h3>Books</h3>
                            <ul>
				<li><a href="https://leanpub.com/grumpy-guide">The Grumpy Programmer's Guide To Testing PHP Applications (currently pre-ordering)</a></li>
                                <li><a href="https://leanpub.com/test-driven">Building Test-Driven Developers</a></li>
                                <li><a href="https://leanpub.com/minimumviabletests">Minimum Viable Tests</a></li>
                                <li><a href="https://leanpub.com/grumpy-phpunit">The Grumpy Programmer's PHPUnit Cookbook</a></li>
                            </ul>
                        </section>
                    </div>
                </div>
            </div>
        </div>
        <footer class="container">
            &copy; 2020 @TheKeyboard
        </footer>

        <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
        <script>window.jQuery || document.write('<script src="/components/jquery/jquery.min.js"><\/script>')</script>
        <script src="/components/bootstrap/js/bootstrap.min.js"></script>
                
                <script src="/components/highlightjs/highlight.pack.js"></script>
        <script>hljs.initHighlightingOnLoad();</script>
    </body>
</html>
